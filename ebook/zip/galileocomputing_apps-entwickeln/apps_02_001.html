<html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
      <meta name="title" content="Galileo Computing :: Apps entwickeln für iPhone und iPad - 2 Einstieg in die Praxis">
      <meta name="author" content="Klaus M. Rodewig, Clemens Wagner">
      <meta name="publisher" content="Galileo Press 2011">
      <meta name="copyright" content="Galileo Press 2011">
      <meta name="Desription" content="Apps entwickeln für iPhone und iPad - Das Praxisbuch - 2 Einstieg in die Praxis">
      <meta name="robots" content="INDEX,FOLLOW">
      <meta http-equiv="content-language" content="de">
      <title>Galileo Computing :: Apps entwickeln für iPhone und iPad - 2 Einstieg in die Praxis</title>
      <link rel="stylesheet" type="text/css" href="common/galileo_open.css">
      <link rel="stylesheet" type="text/css" href="common/prettify.css">
      <link rel="stylesheet" type="text/css" media="screen" href="common/css/lightbox.css">
      &nbsp; &nbsp; &nbsp;                  <script type="text/javascript" src="common/js/prototype.js"></script>
      &nbsp; &nbsp; &nbsp;                  <script src="common/js/scriptaculous.js?load=effects,builder"></script>
      &nbsp; &nbsp; &nbsp;                  <script type="text/javascript" src="common/js/lightbox.js"></script><link rel="prev" href="apps_01_005.html">
      <link rel="next" href="apps_02_002.html"><script type="text/javascript" src="common/prettify.js"></script><script type="text/javascript" src="common/openwin.js"></script></head>
   <body vlink="#000099" link="#000099" alink="#000099" onload="prettyPrint()">
      <table width="100%" border="0" cellpadding="0" cellspacing="0" bgcolor="#000066">
         <tr>
            <td height="74" valign="bottom" colspan="2"><a href="http://www.galileocomputing.de/katalog/openbook/?GPP=opAppiP"><img src="common/galileocomputing_openbook.gif" width="200" height="56" border="0" alt="Galileo Computing < openbook &gt;" title="Galileo Computing < openbook &gt;"></a></td>
            <td width="80" height="74"><a href="http://www.galileocomputing.de/?GPP=opAppiP"><img src="common/galileocomputing.gif" border="0" alt="Galileo Computing - Professionelle Bücher. Auch für Einsteiger." title="Galileo Computing - Professionelle Bücher. Auch für Einsteiger."></a></td>
         </tr>
      </table>
      <div align="right"><a href="http://www.galileocomputing.de/?GPP=opAppiP" class="navnav">Professionelle Bücher. Auch für Einsteiger.</a></div><br><table class="tbl" border="0" cellpadding="0" cellspacing="0" width="100%">
         <tbody>
            <tr>
               <td width="190" valign="top">
                  <table class="tbl1" border="0" cellpadding="3" cellspacing="0" width="190" align="left">
                     <tbody>
                        <tr>
                           <td class="tbl2"><a class="nav" href="index.html">Inhaltsverzeichnis</a></td>
                        </tr>
                        <tr>
                           <td><a class="navnav" href="apps_00_widmung_001.html#"></a></td>
                        </tr>
                        <tr>
                           <td><a class="navnav" href="apps_00_geleitwort_001.html#dodtpfad62f21-21f9-4eae-9038-c462dc2de850">Geleitwort des Gutachters</a></td>
                        </tr>
                        <tr>
                           <td><a class="navnav" href="apps_00_vorwort_001.html#dodtp134aa4f5-3ea1-4d2b-90ec-625e9ad04995">Vorwort</a></td>
                        </tr>
                        <tr>
                           <td><a class="navnav" href="apps_01_001.html#dodtp06116df0-71a6-4127-9c90-87cc60beb89d">1 Einführung</a></td>
                        </tr>
                        <tr>
                           <td><a class="navh" href="#dodtp13428fe8-22e7-48ed-b301-c766518dcaac">2 Einstieg in die Praxis</a></td>
                        </tr>
                        <tr>
                           <td><a class="navnav" href="apps_03_001.html#dodtpd90d1a51-f4d6-4634-a164-a45ebd6f9dff">3 Aufwachen &#8211; analoger Wecker</a></td>
                        </tr>
                        <tr>
                           <td><a class="navnav" href="apps_04_001.html#dodtpa5a111c6-3a92-4be9-aa3a-ed64f8951ac6">4 Daten, Tabellen und Controller</a></td>
                        </tr>
                        <tr>
                           <td><a class="navnav" href="apps_05_001.html#dodtpa5dbcb97-8e52-44af-b2a1-d51145cf8406">5 Animationen und Layer</a></td>
                        </tr>
                        <tr>
                           <td><a class="navnav" href="apps_06_001.html#dodtp610fd647-93cb-4bff-b94e-30d1cceb28fc">6 Programmieren, aber sicher</a></td>
                        </tr>
                        <tr>
                           <td><a class="navnav" href="apps_07_001.html#dodtp35da27e0-4c50-417c-a28d-f5907117d740">7 Jahrmarkt der Nützlichkeiten</a></td>
                        </tr>
                        <tr>
                           <td><a class="navnav" href="apps_anhang_a_dvd-inhalt_001.html#dodtp71232b80-1f13-4c5a-88ac-de2264b674f7">A Die Buch-DVD</a></td>
                        </tr>
                        <tr>
                           <td><a class="navnav" href="stichwort.html">Stichwort</a></td>
                        </tr>
                        <tr>
                           <td><br><a href="http://download2.galileo-press.de/openbook/galileocomputing_apps-entwickeln.zip" class="navnav"><strong>Download:</strong><br>- ZIP, ca. 23,6 MB</a></td>
                        </tr>
                        <tr>
                           <td><a href="http://www.galileo-press.de/3521?GPP=opAppiP" class="navnav">Buch bestellen</a></td>
                        </tr>
                        <tr>
                           <td><a class="navnav" href="#kommentar">Ihre Meinung?</a><br><br></td>
                        </tr>
                     </tbody>
                  </table>
               </td>
               <td width="10"><img src="common/spacer10.gif" width="10" height="10" alt="Spacer"></td>
               <td width="85%" valign="top">
                  <div align="center">
                     <table width="98%" border="0" cellpadding="0" cellspacing="0" bgcolor="#FFFFFF">
                        <tbody>
                           <tr>
                              <td width="100%" class="start" colspan="1" height="22" align="center">
                                 <table width="100%" border="0" cellspacing="0" cellpadding="0">
                                    <tbody>
                                       <tr>
                                          <td width="25%">
                                             <div align="left"><a href="apps_01_005.html" class="navnav"> &lt;&lt; zurück</a></div>
                                          </td>
                                          <td width="49%">
                                             <div align="center"><a href="http://www.galileocomputing.de/?GPP=opAppiP" class="navnav">Galileo Computing</a> / <a href="http://www.galileocomputing.de/katalog/openbook/?GPP=opAppiP" class="navnav">
                                                   &lt;openbook&gt;</a> / <a href="index.html" class="navnav">Apps entwickeln für iPhone und iPad</a></div>
                                          </td>
                                          <td width="25%">
                                             <div align="right"><a href="apps_02_002.html" class="navnav">vor &gt;&gt; </a></div>
                                          </td>
                                       </tr>
                                    </tbody>
                                 </table>
                              </td>
                           </tr>
                           <tr>
                              <td width="100%" valign="top">
                                 <table width="100%" border="0" cellpadding="10" cellspacing="0" class="box">
                                    <tbody>
                                       <tr>
                                          <td colspan="2"><a href="http://www.galileocomputing.de/?GPP=opAppiP" class="buchtitel">Apps entwickeln für iPhone und iPad</a><span class="autor"> von Klaus M. Rodewig, Clemens Wagner</span><br><span class="untertitel">Das Praxisbuch</span></td>
                                       </tr>
                                       <tr>
                                          <td valign="top" width="211">
                                             <dl>
                                                <dt><a href="http://www.galileo-press.de/3521?GPP=opAppiP" class="navnav"><img src="common/9783836214636.jpg" border="0" alt="Buch: Apps entwickeln für iPhone und iPad" title="Buch: Apps entwickeln für iPhone und iPad"></a></dt>
                                                <dd><br><a href="http://www.galileo-press.de/3521?GPP=opAppiP"><span class="autor"><strong>Apps entwickeln für iPhone und iPad</strong><br><pressinfo>geb., mit DVD<br>515 S., 49,90 Euro<br>Galileo Computing<br>ISBN 978-3-8362-1463-6
                                                         <br><br>Die <strong>Neuauflage</strong> des Buches erhalten Sie in unserem Online-Shop - <em>versandkostenfrei</em> innerhalb Deutschlands und Österreichs.<br><a class="navnav" href="http://www.galileo-press.de/3521?GPP=opAppiP"><img src="common/pfeil_rechts5.gif" alt="" border="0">Zum Online-Shop</a></span></span></a></dd>
                                             </dl>
                                          </td>
                                          <td width="80%">
                                             <table border="0">
                                                <tbody>
                                                   <tr>
                                                      <td valign="baseline"><img src="common/pfeil_u.gif" width="10" height="10" border="0" alt="Pfeil"></td>
                                                      <td valign="baseline" colspan="3" class="kap"><strong><a href="apps_02_001.html#dodtp13428fe8-22e7-48ed-b301-c766518dcaac" class="navh">2 Einstieg in die Praxis</a></strong></td>
                                                   </tr>
                                                   <tr>
                                                      <td valign="baseline" width="10"></td>
                                                      <td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
                                                      <td valign="baseline" colspan="2"><strong><a href="apps_02_001.html#dodtped75ea14-fc08-4a34-9657-db0632a81398" class="navh">2.1 Hefte raus, Klassenarbeit! &#8211; Die Arbeit mit Klassen</a></strong></td>
                                                   </tr>
                                                   <tr>
                                                      <td valign="baseline" width="10"></td>
                                                      <td valign="baseline" width="10"></td>
                                                      <td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
                                                      <td valign="baseline"><strong><a href="apps_02_001.html#dodtpb1d5c7f6-cabf-451d-b64e-a8c10e3e6a1f" class="navh">2.1.1 Objekte erzeugen: alloc und init</a></strong></td>
                                                   </tr>
                                                   <tr>
                                                      <td valign="baseline" width="10"></td>
                                                      <td valign="baseline" width="10"></td>
                                                      <td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
                                                      <td valign="baseline"><strong><a href="apps_02_001.html#dodtp440339c2-87fc-4c90-8ed3-a4b9cfcb79f8" class="navh">2.1.2 Objekte löschen: release und dealloc</a></strong></td>
                                                   </tr>
                                                   <tr>
                                                      <td valign="baseline" width="10"></td>
                                                      <td valign="baseline" width="10"></td>
                                                      <td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
                                                      <td valign="baseline"><strong><a href="apps_02_001.html#dodtped2fad0b-b7d9-4cb2-a242-690d12e31f03" class="navh">2.1.3 Initializer</a></strong></td>
                                                   </tr>
                                                   <tr>
                                                      <td valign="baseline" width="10"></td>
                                                      <td valign="baseline" width="10"></td>
                                                      <td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
                                                      <td valign="baseline"><strong><a href="apps_02_001.html#dodtpc2b45df8-e753-4293-8809-922175e842c5" class="navh">2.1.4 Accessoren</a></strong></td>
                                                   </tr>
                                                   <tr>
                                                      <td valign="baseline" width="10"></td>
                                                      <td valign="baseline" width="10"></td>
                                                      <td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
                                                      <td valign="baseline"><strong><a href="apps_02_001.html#dodtp2bd8202a-415e-4a11-a4a9-3efc656775a2" class="navh">2.1.5 Eigene Methoden</a></strong></td>
                                                   </tr>
                                                   <tr>
                                                      <td valign="baseline" width="10"></td>
                                                      <td valign="baseline" width="10"></td>
                                                      <td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
                                                      <td valign="baseline"><strong><a href="apps_02_001.html#dodtp7aef30a2-4169-4daf-96f7-7923ce0e492e" class="navh">2.1.6 Vererbung</a></strong></td>
                                                   </tr>
                                                   <tr>
                                                      <td valign="baseline" width="10"></td>
                                                      <td valign="baseline" width="10"></td>
                                                      <td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
                                                      <td valign="baseline"><strong><a href="apps_02_001.html#dodtpae46f97c-a33c-4dd7-a01e-2041189ef40c" class="navh">2.1.7 Kategorien</a></strong></td>
                                                   </tr>
                                                   <tr>
                                                      <td valign="baseline" width="10"></td>
                                                      <td valign="baseline" width="10"></td>
                                                      <td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
                                                      <td valign="baseline"><strong><a href="apps_02_001.html#dodtp129bb2f8-ba1f-42a7-bd82-115b6a927ce4" class="navh">2.1.8 Protokolle</a></strong></td>
                                                   </tr>
                                                   <tr>
                                                      <td valign="baseline" width="10"></td>
                                                      <td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
                                                      <td valign="baseline" colspan="2"><strong><a href="apps_02_002.html#dodtp9b077c40-2985-4c71-809c-9dde31a9f2e4" class="navnav">2.2 Das erste iOS-Projekt</a></strong></td>
                                                   </tr>
                                                   <tr>
                                                      <td valign="baseline" width="10"></td>
                                                      <td valign="baseline" width="10"></td>
                                                      <td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
                                                      <td valign="baseline"><strong><a href="apps_02_002.html#dodtp1339c9ec-3130-4037-9f4d-fe34f54f1010" class="navnav">2.2.1 Der Interface Builder</a></strong></td>
                                                   </tr>
                                                   <tr>
                                                      <td valign="baseline" width="10"></td>
                                                      <td valign="baseline" width="10"></td>
                                                      <td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
                                                      <td valign="baseline"><strong><a href="apps_02_002.html#dodtp356db151-6330-45e4-84a4-710c424eaa27" class="navnav">2.2.2 Delegation</a></strong></td>
                                                   </tr>
                                                   <tr>
                                                      <td valign="baseline" width="10"></td>
                                                      <td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
                                                      <td valign="baseline" colspan="2"><strong><a href="apps_02_003.html#dodtp4c79cb99-26ac-44b0-9f33-a390c774a6fa" class="navnav">2.3 Model, View und Controller</a></strong></td>
                                                   </tr>
                                                   <tr>
                                                      <td valign="baseline" width="10"></td>
                                                      <td valign="baseline" width="10"></td>
                                                      <td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
                                                      <td valign="baseline"><strong><a href="apps_02_003.html#dodtpba8e43bd-a70a-4113-b754-b3ce4b61fa51" class="navnav">2.3.1 Der Aufbau des Musters</a></strong></td>
                                                   </tr>
                                                   <tr>
                                                      <td valign="baseline" width="10"></td>
                                                      <td valign="baseline" width="10"></td>
                                                      <td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
                                                      <td valign="baseline"><strong><a href="apps_02_003.html#dodtp3f1bdc6f-67be-4d72-a217-129a8dd312ea" class="navnav">2.3.2 Key-Value-Observing</a></strong></td>
                                                   </tr>
                                                   <tr>
                                                      <td valign="baseline" width="10"></td>
                                                      <td valign="baseline" width="10"></td>
                                                      <td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
                                                      <td valign="baseline"><strong><a href="apps_02_003.html#dodtp884d5686-c50a-47f8-94bd-53e7c815e1c0" class="navnav">2.3.3 Target-Action-Mechanismus</a></strong></td>
                                                   </tr>
                                                   <tr>
                                                      <td valign="baseline" width="10"></td>
                                                      <td valign="baseline" width="10"></td>
                                                      <td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
                                                      <td valign="baseline"><strong><a href="apps_02_003.html#dodtpf69e0a08-3029-46de-890d-77cce56f0340" class="navnav">2.3.4 Controller in Cocoa Touch</a></strong></td>
                                                   </tr>
                                                   <tr>
                                                      <td valign="baseline" width="10"></td>
                                                      <td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
                                                      <td valign="baseline" colspan="2"><strong><a href="apps_02_004.html#dodtpa0b0efff-7e68-4bd4-819b-2bebfce1212a" class="navnav">2.4 Speicherverwaltung, Propertys und Key-Value-Coding</a></strong></td>
                                                   </tr>
                                                   <tr>
                                                      <td valign="baseline" width="10"></td>
                                                      <td valign="baseline" width="10"></td>
                                                      <td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
                                                      <td valign="baseline"><strong><a href="apps_02_004.html#dodtpc75b9685-f6be-4662-8b97-f3a1b93b587c" class="navnav">2.4.1 Referenzenzählen in Objective-C</a></strong></td>
                                                   </tr>
                                                   <tr>
                                                      <td valign="baseline" width="10"></td>
                                                      <td valign="baseline" width="10"></td>
                                                      <td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
                                                      <td valign="baseline"><strong><a href="apps_02_004.html#dodtp78f76194-21ad-4efc-947c-56ff1c242317" class="navnav">2.4.2 Die Speicherverwaltungsregeln</a></strong></td>
                                                   </tr>
                                                   <tr>
                                                      <td valign="baseline" width="10"></td>
                                                      <td valign="baseline" width="10"></td>
                                                      <td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
                                                      <td valign="baseline"><strong><a href="apps_02_004.html#dodtp8b7dbd94-96b3-4453-acf8-914ceff40ab9" class="navnav">2.4.3 Propertys</a></strong></td>
                                                   </tr>
                                                   <tr>
                                                      <td valign="baseline" width="10"></td>
                                                      <td valign="baseline" width="10"></td>
                                                      <td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
                                                      <td valign="baseline"><strong><a href="apps_02_004.html#dodtp75774d59-a1be-40f7-9b7a-b7c5ba46ef2f" class="navnav">2.4.4 Key-Value-Coding</a></strong></td>
                                                   </tr>
                                                   <tr>
                                                      <td valign="baseline" width="10"></td>
                                                      <td valign="baseline" width="10"></td>
                                                      <td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
                                                      <td valign="baseline"><strong><a href="apps_02_004.html#dodtp2d8117fe-1a84-487f-9061-2f9c8cb3e759" class="navnav">2.4.5 Abschließende Bemerkungen</a></strong></td>
                                                   </tr>
                                                   <tr>
                                                      <td valign="baseline" width="10"></td>
                                                      <td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
                                                      <td valign="baseline" colspan="2"><strong><a href="apps_02_005.html#dodtp083c83ee-5485-4fea-b656-debaaed8d52b" class="navnav">2.5 Automatisches Referenzenzählen</a></strong></td>
                                                   </tr>
                                                   <tr>
                                                      <td valign="baseline" width="10"></td>
                                                      <td valign="baseline" width="10"></td>
                                                      <td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
                                                      <td valign="baseline"><strong><a href="apps_02_005.html#dodtp27b47c98-db0e-459e-a79f-6da5cef1f022" class="navnav">2.5.1 Zurück in die Zukunft</a></strong></td>
                                                   </tr>
                                                   <tr>
                                                      <td valign="baseline" width="10"></td>
                                                      <td valign="baseline" width="10"></td>
                                                      <td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
                                                      <td valign="baseline"><strong><a href="apps_02_005.html#dodtpc60bacc5-4355-4fde-868d-09e65d0c0464" class="navnav">2.5.2 Weakie und die starken Zeiger</a></strong></td>
                                                   </tr>
                                                   <tr>
                                                      <td valign="baseline" width="10"></td>
                                                      <td valign="baseline" width="10"></td>
                                                      <td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
                                                      <td valign="baseline"><strong><a href="apps_02_005.html#dodtpc7187bdd-6422-4c4f-92d2-c60983032cf5" class="navnav">2.5.3 Autoreleasepools</a></strong></td>
                                                   </tr>
                                                   <tr>
                                                      <td valign="baseline" width="10"></td>
                                                      <td valign="baseline" width="10"></td>
                                                      <td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
                                                      <td valign="baseline"><strong><a href="apps_02_005.html#dodtpc3f7f51c-8baf-4d66-bb0e-867db1b7e3d9" class="navnav">2.5.4 Einzelgänger</a></strong></td>
                                                   </tr>
                                                   <tr>
                                                      <td valign="baseline" width="10"></td>
                                                      <td valign="baseline" width="10"></td>
                                                      <td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
                                                      <td valign="baseline"><strong><a href="apps_02_005.html#dodtpf9322b94-745f-40e9-ae55-6d7fb708ef8f" class="navnav">2.5.5 Migration bestehender Projekte</a></strong></td>
                                                   </tr>
                                                </tbody>
                                             </table>
                                          </td>
                                       </tr>
                                    </tbody>
                                 </table>
                                 <table width="100%" cellpadding="20" cellspacing="0" border="0" bgcolor="#eeeeee">
                                    <tbody>
                                       <tr>
                                          <td>
                                             <div class="main">
                                                <p class="anleser"><em><span class="ckursiv">»Am Anfang wurde das Universum erschaffen. Das machte viele Leute sehr wütend und
                                                         wurde allenthalben als Schritt in die falsche Richtung angesehen.«<br>&#8211; Douglas Adams</span></em></p><a id="dodtp13428fe8-22e7-48ed-b301-c766518dcaac" name="dodtp13428fe8-22e7-48ed-b301-c766518dcaac"></a><h1 class="t1"><span class="cfett">2</span><span class="cfett"> Einstieg in die Praxis</span><a href="#dodtped75ea14-fc08-4a34-9657-db0632a81398"><img src="common/down.gif" width="15" height="15" border="0" alt="Zur nächsten Überschrift"></a></h1>
                                                <p>Nach der theoretischen Beschreibung objektorientierter Programmierung und ihrer Merkmale
                                                   folgt ein tieferer Einstieg in Objective-C und einige praktische Beispiele für den
                                                   Umgang mit Klassen und Objekten. Die Einführung im ersten Abschnitt macht Sie mit
                                                   der Syntax von Objective-C und der Entwicklungsumgebung Xcode vertraut. Dabei machen
                                                   Sie direkt die ersten Schritte mit Xcode und erhalten einen Einblick in die wichtigsten
                                                   Grundlagen. Um den Blick auf den Kern des Themas nicht durch Nebensächlichkeiten zu
                                                   versperren, sind die folgenden Beispiele Kommandozeilenprogramme, also keine vollständigen
                                                   iPhone-Applikationen. In Abschnitt 2.2, »Das erste iOS-Projekt«, geht es dann ans
                                                   Eingemachte. Dort erstellen Sie die erste eigene iPhone-App.
                                                </p>
                                                <p>Voraussetzung für das Nachvollziehen der Beispiele ist, dass Sie das aktuelle iOS-SDK
                                                   mit Xcode 4 installiert haben. Wie Sie es erhalten, haben Sie ja bereits in Kapitel
                                                   1 erfahren. Die nachfolgenden Schritte zum Erzeugen eines neuen Projekts in Xcode
                                                   sind immer gleich. Machen Sie sich mit diesem Vorgehen vertraut, da die folgenden
                                                   Kapitel das Erzeugen eines neuen Projekts als bekannt voraussetzen.
                                                </p>
                                                <p>Öffnen Sie Xcode, und wählen Sie im Startbildschirm den Punkt <span class="cscreenelement">Create a new Xcode project</span> (siehe Abbildung 2.1<span class="cscreenelement">).</span></p><a href="bilder/02_001.png" rel="lightbox" title="Erzeugen eines neuen Xcode-Projekts"><img class="bild" border="1" src="bilderklein/klein02_001.png" alt="Abbildung"></a><p class="pbildunter"><strong>Abbildung 2.1   </strong>Erzeugen eines neuen Xcode-Projekts
                                                </p>
                                                <p>Es öffnet sich automatisch die Template-Übersicht von Xcode und bietet verschiedene
                                                   Arten von Projekten an. Wählen Sie dort in der linken Spalte <span class="cscreenelement">mac os x</span> · <span class="cscreenelement">application</span> und anschließend rechts in der Übersicht der verfügbaren Templates das Icon <span class="cscreenelement">Command Line Tool</span> (siehe Abbildung 2.2<span class="cscreenelement">)</span>.
                                                </p><a href="bilder/02_002.png" rel="lightbox" title="Anlegen eines Foundation-Projekts"><img class="bild" border="1" src="bilderklein/klein02_002.png" alt="Abbildung"></a><p class="pbildunter"><strong>Abbildung 2.2   </strong>Anlegen eines Foundation-Projekts
                                                </p>
                                                <p>Nach Betätigen des Buttons <span class="cscreenelement">Next</span> fordert Xcode Sie auf, einen Projektnamen und -typ festzulegen. Als Namen verwenden
                                                   Sie »<span class="cdateipfad">First Steps«</span> und als Typ <span class="cscreenelement">Foundation</span> (siehe Abbildung 2.3). Danach klicken Sie auf den Button <span class="cscreenelement">Next</span>. Mit dem letzten Dialog des Wizards legen Sie das Verzeichnis Ihres Projekts fest.
                                                   Dort können Sie außerdem noch festlegen, dass Xcode ein lokales Git-Repository für
                                                   Ihr Projekt anlegt. Um gleich richtig anzufangen, aktivieren Sie in diesem Dialog
                                                   bitte die Checkbox <span class="cscreenelement">Create local git repository for this project</span>. <span class="cbegriff">GIT</span><a class="indexterm" id="dodtpbee17769-3f9f-45dd-83ce-b6bdf0972a2e"></a> <span class="footnote"><a id="dodtp6fafec8e-20ef-4cb9-aa7f-491f6a082e50">[10](http://git-scm.com/)</a></span> ist ein SCM-System (<span class="cbegriff">Source-Code-Managementsystem</span><a class="indexterm" id="dodtp45a59120-1640-4b72-962c-5c476d2f7a09"></a>), das von Ihren Quellcodedateien beliebig viele Versionen speichern und verwalten
                                                   kann.
                                                </p><a href="bilder/02_003.png" rel="lightbox" title="Name und Typ des neuen Projekts festlegen"><img class="bild" border="1" src="bilderklein/klein02_003.png" alt="Abbildung"></a><p class="pbildunter"><strong>Abbildung 2.3   </strong>Name und Typ des neuen Projekts festlegen
                                                </p>
                                                <table width="100%" border="0" cellspacing="1" cellpadding="3">
                                                   <tbody>
                                                      
                                                      
                                                      <tr>
                                                         
                                                         
                                                         <td class="tabellenkopf"><span class="cfett">
                                                               
                                                               
                                                               
                                                               Versionsverwaltung
                                                               
                                                               </span></td>
                                                         
                                                         
                                                      </tr>
                                                      
                                                      
                                                      <tr>
                                                         
                                                         
                                                         <td class="tabellentext">
                                                            <p>Wer sich jemals im Dschungel seiner verschiedenen, über unzählige Ordner und Rechner
                                                               verstreuten Versionen des Sourcecodes eines Projekts verirrt und aus dem wirren Wust
                                                               keine übersetzungsfähige Version mehr zusammenbekommen hat, der wird Versionsverwaltung
                                                               auch für kleine Projekte schätzen. Für die Zusammenarbeit mit anderen Entwicklern
                                                               ist sie schlicht unverzichtbar.
                                                               
                                                               
                                                            </p>
                                                         </td>
                                                         
                                                         
                                                      </tr>
                                                      
                                                      
                                                      <tr>
                                                         
                                                         
                                                         <td class="tabellentext">
                                                            <p>
                                                               Die Mutter aller Versionsverwaltungen ist CVS, das <span class="cbegriff">Concurrent Versions System</span><a class="indexterm" id="dodtp99e12711-f1f0-47c9-8b42-4887cb1a10d3"></a>, das lange Zeit der Standard, gerade im Open-Source-Bereich war. Aufgrund zahlreicher
                                                               konzeptioneller Eigenheiten ist es aber nicht mehr zeitgemäß und wurde weitestgehend
                                                               von den Systemen Subversion und GIT abgelöst.
                                                               
                                                               
                                                            </p>
                                                         </td>
                                                         
                                                         
                                                      </tr>
                                                      
                                                      
                                                      <tr>
                                                         
                                                         
                                                         <td class="tabellentext">
                                                            <p>
                                                               GIT wurde ursprünglich vom Linux-Erfinder Linus Torvalds entwickelt und hat sich im
                                                               Open-Source-Bereich gerade für große Projekte zum Standard entwickelt. Der Linux-Kernel,
                                                               Android, Gnome, VLC und viele andere bekannte (und noch mehr unbekannte) Projekte
                                                               verwenden GIT. Durch seinen bewährten Einsatz bei der Verwaltung des Linux-Kernels
                                                               hat es seine Eignung auch für große Projekte bereits erfolgreich unter Beweis gestellt.
                                                               
                                                               
                                                            </p>
                                                         </td>
                                                         
                                                         
                                                      </tr>

                                                      <tr>
                                                         
                                                         
                                                         <td class="tabellentext">
                                                            <p>Bis zur Version 4 hat Xcode GIT nicht unterstützt und wurde mit der Einführung der
                                                               neuen Version zum Standard-SCM der IDE. Sie sollten jedes neue Xcode-Projekt als GIT-Repository
                                                               einrichten, sofern Sie nicht ein anderes Repository verwenden wollen. Einen umfassenden
                                                               Einblick in die Arbeit mit GIT bietet Kapitel 7, »Jahrmarkt der Nützlichkeiten«.
                                                               
                                                               
                                                            </p>
                                                         </td>
                                                         
                                                         
                                                      </tr>
                                                      
                                                      
                                                      <tr>
                                                         
                                                         
                                                         <td class="tabellentext">
                                                            <p>
                                                               Die Sourcen aller Beispiele im Buch finden Sie übrigens auch in einem GIT-Repository:
                                                               <a href="git@github.com:hinkeldei/iPhone.git" target="_blank">git@github.com:hinkeldei/iPhone.git</a>
                                                               
                                                               
                                                            </p>
                                                         </td>
                                                         
                                                         
                                                      </tr>
                                                      
                                                      
                                                      
                                                      
                                                   </tbody>
                                                </table>
                                                <p>Nach Abschluss des Template-Wizards öffnet sich das Hauptfenster von Xcode. Im linken
                                                   Teil des Fensters, dem Projekt-Navigator, befindet sich in der Gruppe <span class="cscreenelement">Sources</span> die Hauptdatei <span class="cdateipfad">main.m</span> des neuen Projekts. Durch Auswählen der Datei öffnet sich im rechten Teil des Xcode-Fensters
                                                   die Datei im Editor.
                                                </p><a href="bilder/02_004.png" rel="lightbox" title="Die Hauptdatei im Xcode-Editor."><img class="bild" border="1" src="bilderklein/klein02_004.png" alt="Abbildung"></a><p class="pbildunter"><strong>Abbildung 2.4   </strong>Die Hauptdatei im Xcode-Editor.
                                                </p>
                                                <table width="100%" border="0" cellspacing="1" cellpadding="3">
                                                   <tbody>
                                                      
                                                      
                                                      <tr>
                                                         
                                                         
                                                         <td class="tabellenkopf"><span class="cfett">
                                                               
                                                               
                                                               
                                                               Ansichtssache
                                                               
                                                               </span></td>
                                                         
                                                         
                                                      </tr>
                                                      
                                                      
                                                      <tr>
                                                         
                                                         
                                                         <td class="tabellentext">
                                                            <p>Xcode ist ein sehr komplexes Werkzeug, das der Benutzer an vielen Stellen individuell
                                                               an seine Bedürfnisse anpassen kann. Die Xcode-Screenshots in diesem Buch weichen an
                                                               der einen oder anderen Stelle mitunter von der Standard-Darstellung von Xcode ab.
                                                               Wie Sie Xcode selber an Ihre Bedürfnisse anpassen können, zeigt das Kapitel 7.
                                                               
                                                               
                                                            </p>
                                                         </td>
                                                         
                                                         
                                                      </tr>
                                                      
                                                      
                                                   </tbody>
                                                </table>
                                                <p>Der Inhalt der Datei <span class="cdateipfad">main.m</span> ist übersichtlich:
                                                </p>
                                                <div class="listing"><pre class="prettyprint">#import &lt;Foundation/Foundation.h&gt;<br><br>int main (int argc, const char * argv[]) {<br>    NSAutoreleasePool * pool =<br>        [[NSAutoreleasePool alloc] init];<br>    NSLog(@"Hello, World!");<br>    [pool drain];<br>    return 0;<br>}<br></pre></div>
                                                <p class="plistingunter"><strong>Listing 2.1   </strong>»Hello World« in Objective-C
                                                </p>
                                                <p>Eingebettet in die C-Funktion <span class="clisting">main</span>, befindet sich Objective-C-Code. Die Ausführung eines C-Programms beginnt immer in
                                                   dieser Funktion, und sowohl Objective-C als auch C++ haben diese Konvention übernommen.
                                                   Eine Erläuterung zum <span class="clisting">NSAutoReleasePool</span> finden Sie in dem Abschnitt über Speicherverwaltung an Ende dieses Kapitels. Dieses
                                                   Thema ist bei den folgenden Beispielen noch nicht relevant.
                                                </p>
                                                <p>Lassen Sie das Programm von Xcode übersetzen und ausführen. Dies erfolgt entweder
                                                   über den Button <span class="cscreenelement">Run</span>, links oben in der Toolbar, über den Menüpunkt <span class="cscreenelement">Project</span> · <span class="cscreenelement">Run</span> oder über das Tastenkürzel <span class="ctastatur"><img align="top" src="keys/ctastatur_KENNRCk=.gif" alt="CMD" title="CMD"></span> + <span class="ctastatur"><img align="top" src="keys/ctastatur_KFIp.gif" alt="R" title="R"></span>.
                                                </p>
                                                <p>Da das Programm nur ein Konsolenprogramm ist, öffnet sich durch den Run-Befehl kein
                                                   Fenster. Sie können die Ausgabe des Programms über die Konsole von Xcode verfolgen.
                                                   Wählen Sie dazu über dem Projekt-Navigator das Symbol für den Log-Navigator (siehe
                                                   Abbildung 2.5).
                                                </p><a href="bilder/02_005.png" rel="lightbox" title="Der Log-Navigator von Xcode zeigt die Konsole."><img class="bild" border="1" src="bilderklein/klein02_005.png" alt="Abbildung"></a><p class="pbildunter"><strong>Abbildung 2.5   </strong>Der Log-Navigator von Xcode zeigt die Konsole.
                                                </p>
                                                <p>Neben den Ausgaben des Debuggers zeigt das Konsolenfenster in Fettschrift die Ausgabe
                                                   des Programms an:
                                                </p>
                                                <div class="listing"><pre class="prettyprint">2011-01-04 17:57:45.982 First Steps[12686:a0f] Hello, World!<br></pre></div>
                                                <p>Das Hin- und Herschalten zwischen den verschiedenen Ansichten von Xcode kann mit der
                                                   Zeit umständlich werden. Bei intensiver Nutzung von <span class="clisting">NSLog</span> ist es sinnvoll, das Programm <span class="cdateipfad">Konsole</span> von OS X zu verwenden, da dort alle Konsolenmeldungen des Betriebssystems und der
                                                   Programme ausgegeben werden. Sie finden es im Ordner /<span class="cdateipfad">Programme/Dienstprogramme</span>. Wenn Sie im Filterfeld oben rechts den Namen des aktuellen Xcode-Projekts angeben
                                                   und als Quelle im linken Teil des Fensters <span class="cscreenelement">Konsolenmeldungen</span> auswählen, sehen Sie ausschließlich die Ausgaben Ihres Programms:
                                                </p><a href="bilder/02_006.png" rel="lightbox" title="NSLog-Ausgabe in der Konsole"><img class="bild" border="1" src="bilderklein/klein02_006.png" alt="Abbildung"></a><p class="pbildunter"><strong>Abbildung 2.6   </strong>NSLog-Ausgabe in der Konsole
                                                </p>
                                                <p>Der Nachteil daran ist, dass das Konsolenfenster sich nicht automatisch aktualisiert,
                                                   sobald es eine Änderung gibt. Eine Alternative ist daher das Betrachten der Logdatei
                                                   im Terminal (/<span class="cdateipfad">Programme/Dienstprogramme/Terminal</span>) über den folgenden Befehl:
                                                </p>
                                                <div class="listing"><pre class="prettyprint"># tail -f /var/log/system.log | grep "First Steps"<br></pre></div><a href="bilder/02_007.png" rel="lightbox" title="Die Konsolenausgabe im Terminal"><img class="bild" border="1" src="bilderklein/klein02_007.png" alt="Abbildung"></a><p class="pbildunter"><strong>Abbildung 2.7   </strong>Die Konsolenausgabe im Terminal
                                                </p><br><div align="center"><a href="#top"><img src="common/jupiters.gif" border="0" alt="Galileo Computing - Zum Seitenanfang"></a></div><a id="dodtped75ea14-fc08-4a34-9657-db0632a81398" name="dodtped75ea14-fc08-4a34-9657-db0632a81398"></a><h2 class="t2"><span class="cfett">2.1</span><span class="cfett"> Hefte raus, Klassenarbeit! &#8211; Die Arbeit mit Klassen</span><a href="#dodtpb1d5c7f6-cabf-451d-b64e-a8c10e3e6a1f"><img src="common/down.gif" width="15" height="15" border="0" alt="Zur nächsten Überschrift"></a><a href="#dodtp13428fe8-22e7-48ed-b301-c766518dcaac"><img src="common/top.gif" width="15" height="15" border="0" alt="Zur vorigen Überschrift"></a></h2>
                                                <p>Dieser Abschnitt demonstriert die praktische Arbeit mit Klassen. Der Quelltext einer
                                                   Klasse verteilt sich per Konvention auf zwei Dateien: auf die <span class="cbegriff">Headerdatei</span><a class="indexterm" id="dodtp6f2d2e5a-3f33-44d7-84b4-0ecfb6a0ac1d"></a> mit der Dateiendung <span class="cdateipfad">.h</span> und auf die Implementierungsdatei mit der Endung <span class="cdateipfad">.m</span>. Die Headerdatei enthält die <span class="cbegriff">Schnittstelle</span> (das <span class="cbegriff">Interface</span>) der Klasse nach außen, während die Implementierungsdatei die Umsetzung enthält,
                                                   auf die andere Klassen keinen Zugriff haben. Diese Aufteilung hat Objective-C von
                                                   C geerbt. Dort tragen die Headerdateien ebenfalls die Endung <span class="cdateipfad">.h</span> und die Implementierungsdateien die Endung <span class="cdateipfad">.c</span>.
                                                </p>
                                                <p>Die Implementierungsdatei enthält den ausführbaren Code einer Klasse. Die Implementierung
                                                   einer Klasse ist geheim. Sie geht nur den Programmierer etwas an. Damit andere Programmierer
                                                   diese Klasse benutzen können, reicht es, die Interface-Datei weiterzugeben. Über die
                                                   Interface-Datei ist genau definiert, welche Attribute und Methoden eine Klasse besitzt.
                                                   Auf diese Weise ist es möglich, kompilierte Klassen zur freien Verwendung weiterzugeben,
                                                   ohne den Code offenlegen zu müssen. Wenn Sie die Festplatte Ihres Macs nach den Klassen
                                                   des Foundation-Frameworks durchsuchen, werden Sie einen Haufen Interface-Dateien finden,
                                                   aber keine Implementierungsdateien. Apple verrät Ihnen nur, wie Sie die Foundation-Klassen
                                                   verwenden können, aber nicht, wie sie programmiert sind (siehe Abbildung 2.8).
                                                </p><a href="bilder/02_008.png" rel="lightbox" title="Die Interface-Dateien des Foundation-Frameworks"><img class="bild" border="1" src="bilderklein/klein02_008.png" alt="Abbildung"></a><p class="pbildunter"><strong>Abbildung 2.8   </strong>Die Interface-Dateien des Foundation-Frameworks
                                                </p>
                                                <p>Um eine eigene Klasse zu erstellen, legen Sie im ersten Schritt in Xcode über den
                                                   Menüpunkt <span class="cscreenelement">File</span> · <span class="cscreenelement">New</span> · <span class="cscreenelement">New File...</span> die Dateien dafür an. Wählen Sie im Dialogfenster links <span class="cscreenelement">Mac OS X</span> · <span class="cscreenelement">Cocoa</span> und in der Übersicht rechts anschließend <span class="cscreenelement">Objective-C Class</span> (siehe Abbildung 2.9<span class="cscreenelement">)</span>.
                                                </p><a href="bilder/02_009.png" rel="lightbox" title="Eine neue Objective-C-Klasse"><img class="bild" border="1" src="bilderklein/klein02_009.png" alt="Abbildung"></a><p class="pbildunter"><strong>Abbildung 2.9   </strong>Eine neue Objective-C-Klasse
                                                </p>
                                                <p>Nach dem Drücken von <span class="cscreenelement">Next</span> gelangen Sie zu einem weiteren Dialog, in dem Sie den Namen und die Oberklasse Ihrer
                                                   neuen Klasse eingeben müssen (siehe Abbildung 2.10).
                                                </p><a href="bilder/02_010.png" rel="lightbox" title="Auswahl der Oberklasse"><img class="bild" border="1" src="bilderklein/klein02_010.png" alt="Abbildung"></a><p class="pbildunter"><strong>Abbildung 2.10   </strong>Auswahl der Oberklasse
                                                </p>
                                                <p>Die Klasse nennen Sie »Fahrzeug« und als Oberklasse können Sie die voreingestellte
                                                   Klasse <span class="clisting">NSObject</span> verwenden. Per Konvention beginnen Klassennamen mit einem Großbuchstaben. Auch hier
                                                   müssen Sie den Button <span class="cscreenelement">Next</span> drücken, damit Sie zum nächsten Dialog gelangen. Dort brauchen Sie nur noch den Ablageort
                                                   Ihrer neuen Klasse festzulegen.
                                                </p>
                                                <p>Dort können Sie über das Dropdown-Feld <span class="cscreenelement">Group</span> festlegen, in welcher Gruppe des Projektnavigator Xcode die Klasse anzeigen soll.
                                                   Der voreingestellte Wert <span class="cscreenelement">First Steps</span> kann bleiben, denn in dieser Gruppe befindet sich bereits die Datei <span class="cdateipfad">main.m</span>.
                                                </p><a href="bilder/02_011.png" rel="lightbox" title="Der Name der neuen Klasse"><img class="bild" border="1" src="bilderklein/klein02_011.png" alt="Abbildung"></a><p class="pbildunter"><strong>Abbildung 2.11   </strong>Der Name der neuen Klasse
                                                </p>
                                                <p>Nach dem Anlegen der Klasse finden sich die Dateien <span class="cdateipfad">Fahrzeug.h</span> und <span class="cdateipfad">Fahrzeug.m</span> im Projektnavigator in der Gruppe <span class="cscreenelement">Source</span>:
                                                </p><a href="bilder/02_012.png" rel="lightbox" title="Die Klasse »Fahrzeug« mit ihren beiden Dateien"><img class="bild" border="1" src="bilderklein/klein02_012.png" alt="Abbildung"></a><p class="pbildunter"><strong>Abbildung 2.12   </strong>Die Klasse »Fahrzeug« mit ihren beiden Dateien
                                                </p>
                                                <p>Xcode erzeugt beide Dateien über Vorlagen. Die Headerdatei enthält die Klassendeklaration,
                                                   während Sie in der Implementierung die Methoden <span class="clisting">init</span> und <span class="clisting">dealloc</span> finden. <span class="cdateipfad">Fahrzeug.h</span> importiert außerdem die Interface-Datei des Foundation-Frameworks:
                                                </p>
                                                <div class="listing"><pre class="prettyprint">#import &lt;Foundation/Foundation.h&gt;<br><br>@interface Fahrzeug : NSObject {<br>@private<br>}<br>@end<br></pre></div>
                                                <p class="plistingunter"><strong>Listing 2.2   </strong>Headerdatei der »Fahrzeug«-Klasse
                                                </p>
                                                <p>Die Implementierungsdatei ist etwas umfangreicher:</p>
                                                <div class="listing"><pre class="prettyprint">#import "Fahrzeug.h"<br><br>@implementation Fahrzeug<br>- (id)init {<br>    self = [super init];<br>    if (self != nil) {<br>        // Initialization code here.<br>    }<br>    return self;<br>}<br><br>- (void)dealloc {<br>    // Clean-up code here.<br>    [super dealloc];<br>}<br>@end<br></pre></div>
                                                <p class="plistingunter"><strong>Listing 2.3   </strong>Implementierungsdatei der »Fahrzeug«-Klasse
                                                </p>
                                                <p>Interessant sind die beiden Methoden <span class="clisting">init</span> und <span class="clisting">dealloc</span>. Beide sind nicht in der Interface-Datei vorhanden, und doch müssen sie einen Sinn
                                                   haben, denn irgendwer außerhalb der Klasse muss ja wissen, dass es beide Methoden
                                                   gibt. Des Rätsels Lösung ist einfach.
                                                </p><br><div align="center"><a href="#top"><img src="common/jupiters.gif" border="0" alt="Galileo Computing - Zum Seitenanfang"></a></div><a id="dodtpb1d5c7f6-cabf-451d-b64e-a8c10e3e6a1f" name="dodtpb1d5c7f6-cabf-451d-b64e-a8c10e3e6a1f"></a><h3 class="t3"><span class="cfett">2.1.1</span><span class="cfett"> Objekte erzeugen: alloc und init</span><a href="#dodtp440339c2-87fc-4c90-8ed3-a4b9cfcb79f8"><img src="common/down.gif" width="15" height="15" border="0" alt="Zur nächsten Überschrift"></a><a href="#dodtped75ea14-fc08-4a34-9657-db0632a81398"><img src="common/top.gif" width="15" height="15" border="0" alt="Zur vorigen Überschrift"></a></h3>
                                                <p>Wie in Kapitel 1 beschrieben, ist eine Klasse die Konstruktionszeichnung für ein Objekt.
                                                   Klassen können keine Daten speichern oder Berechnungen anstellen &#8211; man muss Objekte
                                                   erzeugen, um Daten speichern und verarbeiten sowie Nachrichten senden und empfangen
                                                   zu können. Ein Objekt ist nicht einfach vorhanden, man muss es vor seiner Verwendung
                                                   erzeugen. Dies erfolgt über einen Methodenaufruf an die Klasse des Objekts (also eine
                                                   Klassenmethode), mit der die Klasse angewiesen wird, ein Objekt von sich selbst zu
                                                   erzeugen. Die dazu aufgerufene Methode trägt den Namen <span class="clisting">alloc</span>.
                                                </p>
                                                <table width="100%" border="0" cellspacing="1" cellpadding="3">
                                                   <tbody>
                                                      
                                                      
                                                      <tr>
                                                         
                                                         
                                                         <td class="tabellenkopf"><span class="cfett">
                                                               
                                                               
                                                               
                                                               Die Klassenmethode alloc
                                                               
                                                               </span></td>
                                                         
                                                         
                                                      </tr>
                                                      
                                                      
                                                      <tr>
                                                         
                                                         
                                                         <td class="tabellentext">
                                                            <p>In der Datei <span class="cdateipfad">NSObject.h</span> können Sie sehen, dass <span class="clisting">alloc</span> eine Klassenmethode ist:
                                                               
                                                               
                                                            </p>
                                                         </td>
                                                         
                                                         
                                                      </tr>
                                                      
                                                      
                                                      <tr>
                                                         
                                                         
                                                         <td class="tabellentext">
                                                            <p><div class="listing"><pre class="prettyprint">+ (id)alloc;<br></pre></div>
                                                               
                                                               
                                                            </p>
                                                         </td>
                                                         
                                                         
                                                      </tr>
                                                      
                                                      
                                                      <tr>
                                                         
                                                         
                                                         <td class="tabellentext">
                                                            <p>Das vorangestellte Plus-Zeichen weist <span class="clisting">alloc</span> als Klassenmethode aus.
                                                               
                                                               
                                                            </p>
                                                         </td>
                                                         
                                                         
                                                      </tr>
                                                      
                                                      
                                                   </tbody>
                                                </table>
                                                <p><span class="clisting">alloc</span> erzeugt eine Instanz der jeweiligen Klasse, also ein neues Objekt. Das bedeutet aber
                                                   nur, dass <span class="clisting">alloc</span> den Speicher für das Objekt reserviert, alle Attribute auf 0 setzt und einen Zeiger
                                                   auf das Objekt zurückliefert.
                                                </p>
                                                <p>Ein mit <span class="clisting">alloc</span> erzeugtes Objekt ist also leer. Um das Objekt direkt nach der Erzeugung zur Verwendung
                                                   vorzubereiten, es also direkt mit sinnvollen Daten zu füllen, sollte unmittelbar nach
                                                   dem Aufruf der Klassenmethode <span class="clisting">alloc</span> an <span class="clisting">NSObject</span> der Aufruf der Methode <span class="clisting">init</span> oder einer anderen Initialisierungsmethode erfolgen. <span class="clisting">init</span> ist ein <span class="cbegriff">Initializer</span><a class="indexterm" id="dodtpffd348e1-69f1-4a46-9678-4fac03e0ff69"></a> (eine Initialisierungsmethode) des Objekts, der den aus anderen Programmiersprachen
                                                   bekannten <span class="cbegriff">Konstruktoren</span><a class="indexterm" id="dodtpdb3cc280-7b8c-424e-a6ae-d63f30569524"></a> ähnelt. Neben <span class="clisting">init</span> sind natürlich auch andere Initializer mit Parameterübergabe möglich.
                                                </p>
                                                <p>Alle Subklassen von <span class="clisting">NSObject</span> erben oder überschreiben die Methode <span class="clisting">init</span>. Die in der Datei <span class="cdateipfad">Fahrzeug.m</span> definierte Methode <span class="clisting">init</span> überschreibt die von <span class="clisting">NSObject</span> ererbte Methode. Das erklärt, warum die Methode vorhanden, nicht aber im Interface
                                                   deklariert werden muss. Wäre die Methode nicht vorhanden, würde der Aufruf von <span class="clisting">init</span> an die Klasse <span class="clisting">Fahrzeug</span> einfach an die Superklasse, also an <span class="clisting">NSObject</span>, weitergereicht und die <span class="clisting">init</span>-Methode von <span class="clisting">NSObject</span> verwendet.
                                                </p>
                                                <table width="100%" border="0" cellspacing="1" cellpadding="3">
                                                   <tbody>
                                                      
                                                      
                                                      <tr>
                                                         
                                                         
                                                         <td class="tabellenkopf"><span class="cfett">
                                                               
                                                               
                                                               
                                                               Die Objektmethode init
                                                               
                                                               </span></td>
                                                         
                                                         
                                                      </tr>
                                                      
                                                      
                                                      <tr>
                                                         
                                                         
                                                         <td class="tabellentext">
                                                            <p>Auch <span class="clisting">init</span> finden Sie in <span class="cdateipfad">NSObject.h,</span> und Sie können ihren Methodentyp überprüfen:
                                                               
                                                               
                                                            </p>
                                                         </td>
                                                         
                                                         
                                                      </tr>
                                                      
                                                      
                                                      <tr>
                                                         
                                                         
                                                         <td class="tabellentext">
                                                            <p><div class="listing"><pre class="prettyprint">- (id)init;<br></pre></div>
                                                               
                                                               
                                                            </p>
                                                         </td>
                                                         
                                                         
                                                      </tr>
                                                      
                                                      
                                                      <tr>
                                                         
                                                         
                                                         <td class="tabellentext">
                                                            <p>Es ist eine Objektmethode &#8211; erkennbar an dem vorangestellten Minus-Zeichen.
                                                               
                                                               
                                                            </p>
                                                         </td>
                                                         
                                                         
                                                      </tr>
                                                      
                                                      
                                                   </tbody>
                                                </table>
                                                <p><span class="clisting">init</span> gibt nach erfolgreicher Ausführung einen Zeiger auf das initialisierte Objekt zurück
                                                   (<span class="clisting">self</span>). <span class="footnote"><a id="dodtpc439fdfc-62a2-42fb-a4fd-dbeb74e60ac8">[11](Das muss aber nicht immer so sein: Es gibt beispielsweise Klassen, die bei unmöglicher Initialisierung <span class="clisting">nil</span> zurückliefern.)</a></span> Es ist wichtig, dass <span class="clisting">init</span> oder eine andere Initialisierungsmethode der erste Methodenaufruf nach dem Erzeugen
                                                   eines Objektes ist! Um ein Objekt verwenden zu können, sind also zwei Schritte notwendig.
                                                   Der erste Schritt erzeugt das Objekt durch Aufruf der Klassenmethode <span class="clisting">alloc</span>:
                                                </p>
                                                <div class="listing"><pre class="prettyprint">Fahrzeug *fahrzeug = [Fahrzeug alloc];<br></pre></div>
                                                <p>Der zweite Schritt initialisiert das neu erzeugte Objekt durch die Nachricht <span class="clisting">init</span> an das Objekt selber:
                                                </p>
                                                <div class="listing"><pre class="prettyprint">fahrzeug = [fahrzeug init];<br></pre></div>
                                                <p>Der Einfachheit halber, und so empfiehlt es auch Apple, fasst man beide Aufrufe zusammen
                                                   und bekommt so in einer Zeile ein schlüsselfertiges Objekt zurückgeliefert:
                                                </p>
                                                <div class="listing"><pre class="prettyprint">Fahrzeug *fahrzeug = [[Fahrzeug alloc] init];<br></pre></div><br><div align="center"><a href="#top"><img src="common/jupiters.gif" border="0" alt="Galileo Computing - Zum Seitenanfang"></a></div><a id="dodtp440339c2-87fc-4c90-8ed3-a4b9cfcb79f8" name="dodtp440339c2-87fc-4c90-8ed3-a4b9cfcb79f8"></a><h3 class="t3"><span class="cfett">2.1.2</span><span class="cfett"> Objekte löschen: release und dealloc</span><a href="#dodtped2fad0b-b7d9-4cb2-a242-690d12e31f03"><img src="common/down.gif" width="15" height="15" border="0" alt="Zur nächsten Überschrift"></a><a href="#dodtpb1d5c7f6-cabf-451d-b64e-a8c10e3e6a1f"><img src="common/top.gif" width="15" height="15" border="0" alt="Zur vorigen Überschrift"></a></h3>
                                                <p>Ist ein Objekt am Ende seiner Lebenszeit angekommen, wird es gelöscht, d.  h., alle
                                                   Referenzen auf das Objekt werden entfernt und der vom Objekt belegte Speicher wird
                                                   freigegeben. Dies erfolgt über die Methode <span class="clisting">release</span>:
                                                </p>
                                                <div class="listing"><pre class="prettyprint">[fahrzeug release];<br></pre></div>
                                                <p><span class="clisting">release</span> ist ein wichtiges Instrument für die Speicherverwaltung, das im nächsten Kapitel
                                                   eingehend thematisiert wird. Die Nachricht <span class="clisting">release</span> kann, ohne dem Abschnitt über Speicherverwaltung zu sehr vorwegzugreifen, den Aufruf
                                                   der Methode <span class="clisting">dealloc</span> bewirken. Sie ist das Gegenstück zu <span class="clisting">init</span> und auch in <span class="clisting">NSObject</span> definiert. Über <span class="clisting">dealloc</span> gibt ein Objekt seine verwendeten Ressourcen frei. Sie sollten diese Methode niemals
                                                   direkt aufrufen, da sie ausschließlich von der Methode <span class="clisting">release</span> aufgerufen wird.
                                                </p>
                                                <p>Da die <span class="clisting">dealloc</span>-Implementierung von <span class="clisting">NSObject</span> nichts über die Ressourcen &#8211; das sind hier die benutzten Objekte, der benutzte Speicher
                                                   usw. des Objekts &#8211; weiß, die eine Subklasse belegt, muss jede Subklasse eine eigene
                                                   <span class="clisting">dealloc</span>-Methode besitzen. Sie gibt zunächst alle eigenen Ressourcen frei und ruft anschließend
                                                   die <span class="clisting">dealloc</span>-Methode der Superklasse auf.
                                                </p>
                                                <p>Sie können das Aufrufen der Methoden <span class="clisting">init</span> und <span class="clisting">dealloc</span> in der neuen Klasse selber nachvollziehen. Fügen Sie dazu in jeder der beiden Methoden
                                                   die folgende Zeile hinzu:
                                                </p>
                                                <div class="listing"><pre class="prettyprint">NSLog(@"[+] %@", NSStringFromSelector(_cmd));<br></pre></div>
                                                <p><span class="clisting">NSLog</span> gibt eine Ausgabe an die Konsole aus. Die Formatierung erfolgt analog zu den aus
                                                   C bekannten Format-Strings. Das heißt, innerhalb der Anführungszeichen stehen Konstanten
                                                   und Platzhalter, und die Variablen für die Platzhalter folgen, durch Kommata getrennt,
                                                   hinter den Anführungszeichen. In diesem Fall steht der Platzhalter <span class="clisting">%@</span>, der für Objective-C-Objekte verwendet werden kann, für <span class="clisting">NSStringFromSelector(_cmd).</span> Die Funktion liefert den Namen eines Selektors als Zeichenkette, und die implizit
                                                   deklarierte Variable <span class="clisting">_cmd</span> enthält den Selektor der aktuellen Methode. Also gibt die Anweisung den Namen der
                                                   Methode aus, innerhalb derer sich diese Zeile befindet.
                                                </p>
                                                <p>Das Ganze sieht also wie folgt aus:</p>
                                                <div class="listing"><pre class="prettyprint">- (id)init {<br>    NSLog(@"[+] %@", NSStringFromSelector(_cmd));<br>    [...]<br>Und in der Methode dealloc:<br>- (void)dealloc {<br>    NSLog(@"[+] %@", NSStringFromSelector(_cmd));<br>    [...]<br></pre></div>
                                                <p>Um die Klasse <span class="clisting">Fahrzeug</span> verwenden zu können, müssen Sie dem Hauptprogramm noch die Interface-Datei der Klasse
                                                   bekannt machen. Fügen Sie dazu im Kopf der Datei <span class="cdateipfad">main.m</span> die entsprechende Import-Anweisung ein:
                                                </p>
                                                <div class="listing"><pre class="prettyprint">#import "Fahrzeug.h"<br></pre></div>
                                                <p>Ein Objekt der Klasse <span class="clisting">Fahrzeug</span> erzeugt innerhalb der Main-Funktion die folgende Anweisung:
                                                </p>
                                                <div class="listing"><pre class="prettyprint">Fahrzeug *fahrzeug = [[Fahrzeug alloc] init];<br></pre></div>
                                                <p>In der nächsten Zeile sorgt dann <span class="clisting">[fahrzeug release];</span> dafür, dass das Objekt wieder gelöscht wird. Das Programm ruft also beide Methoden,
                                                   <span class="clisting">init</span> und <span class="clisting">dealloc</span>, auf. Die gesamte Datei <span class="cdateipfad">main.m</span> enthält damit den folgenden Code:
                                                </p>
                                                <div class="listing"><pre class="prettyprint">#import &lt;Foundation/Foundation.h&gt;<br>#import "Fahrzeug.h"<br><br>int main (int argc, const char * argv[]) {<br>    NSAutoreleasePool * pool =<br>        [[NSAutoreleasePool alloc] init];<br><br>    NSLog(@"Hello, World!");<br>    Fahrzeug *fahrzeug = [[Fahrzeug alloc] init];<br>    [fahrzeug release];<br>    [pool drain];<br>    return 0;<br>}<br></pre></div>
                                                <p class="plistingunter"><strong>Listing 2.4   </strong>Das erste Beispielprogramm
                                                </p>
                                                <p>Nach dem Übersetzen und Starten des Projekts können Sie die Ausgabe auf der Konsole
                                                   prüfen. Aus Gründen der Übersichtlichkeit ist das Datum in den Konsolenausgaben hier
                                                   entfernt:
                                                </p>
                                                <div class="listing"><pre class="prettyprint">First Steps[21233:a0f] Hello, World!<br>First Steps[21394:a0f] [+] init<br>First Steps[21394:a0f] [+] dealloc<br></pre></div>
                                                <p>Neben dem unvermeidbaren »Hello, World!« zeigt die Ausgabe den Aufruf der <span class="clisting">init</span>- und <span class="clisting">dealloc</span>-Methoden der Klasse <span class="clisting">Fahrzeug</span> an. Als kleinen Vorgriff auf das Thema Speicherverwaltung ändern Sie die Zeile
                                                </p>
                                                <div class="listing"><pre class="prettyprint">[fahrzeug release];<br></pre></div>
                                                <p>in:</p>
                                                <div class="listing"><pre class="prettyprint">[fahrzeug autorelease];<br></pre></div>
                                                <p>Damit fügen Sie das Objekt zum <span class="cbegriff">Autoreleasepool</span><a class="indexterm" id="dodtp9173d99a-9d94-4495-b5d8-4928d3e83c10"></a> hinzu, den die Projektvorlage in der Main-Funktion angelegt hat. Sie überlassen also
                                                   dem System das Entfernen des Objekts. Die Konsolenausgabe des Programms ist aber trotzdem
                                                   gleich.
                                                </p>
                                                <p>Wenn Sie die Zeile zum Entfernen des Objekts (egal ob über <span class="clisting">release</span> oder <span class="clisting">autorelease</span>) ganz entfernen, sehen Sie in der Konsolenausgabe, dass Ihr Programm nur die Methode
                                                   <span class="clisting">init</span>, aber nicht <span class="clisting">dealloc</span> aufruft. Das ist im vorliegenden Beispiel nicht dramatisch, da das Programm nach
                                                   dem Beenden ohnehin seinen gesamten Speicher freigibt. Nichtsdestotrotz liegt hier
                                                   ein Speicherleck vor, und in einem komplexen Programm kann das Nichtfreigeben von
                                                   unbenutzten Objekten üble Folgen haben. Es gilt daher grundsätzlich:
                                                </p>
                                                <p>&nbsp;&nbsp;&nbsp;<span class="ckursiv">Jedes</span> <span class="clisting">alloc</span> <span class="ckursiv">braucht ein</span> (<span class="clisting">auto</span>)<span class="clisting">release</span>!</p>
                                                <p>Oder in der Sprache des Volksmundes:</p>
                                                <p>&nbsp;&nbsp;&nbsp;<span class="ckursiv">Wer</span><span class="cfett"> a</span><span class="ckursiv">(lloc) sagt, muss auch </span><span class="cfett">r</span><span class="ckursiv">(elease) sagen.</span></p>   
                                                <table width="100%" border="0" cellspacing="1" cellpadding="3">
                                                   <tbody>
                                                      
                                                      
                                                      <tr>
                                                         
                                                         
                                                         <td class="tabellenkopf"><span class="cfett">
                                                               
                                                               
                                                               
                                                               Garbage Collection
                                                               
                                                               </span></td>
                                                         
                                                         
                                                      </tr>
                                                      
                                                      
                                                      <tr>
                                                         
                                                         
                                                         <td class="tabellentext">
                                                            <p>Auf dem Mac gibt es seit OS X 10.5 (Leopard) eine automatische <span class="cbegriff">Garbage Collection</span><a class="indexterm" id="dodtpccd31f67-59f9-46dc-a917-5450624af5d7"></a>. Dabei muss sich der Programmierer keine Sorgen mehr um das Freigeben von Speicher
                                                               machen, da der <span class="cbegriff">Garbage Collector</span><a class="indexterm" id="dodtpea2e6b3d-5454-4f3a-a3ac-3e53471d1127"></a> automatisch alle Objekte freigibt, auf die keine Referenzen mehr zeigen. Er sammelt
                                                               also den Objektmüll aus dem Speicher und wirft ihn weg. So angenehm eine Garbage Collection
                                                               auch ist &#8211; sie wird von iOS nicht unterstützt. Das liegt daran, dass das Müllsammeln
                                                               extrem rechenaufwendig ist.
                                                               
                                                               Ab iOS 5 geht Apple deshalb mit dem <span class="cbegriff">Automatic Reference Counting</span> einen anderen Weg, der eine Synthese aus der Bequemlichkeit der Garbage Collection
                                                               und der Geschwindigkeit des Referenzenzählens ist. Aber keine Sorge, Sie werden sicherlich
                                                               auch ohne Garbage Collection gut zurechtkommen. Näheres zum Referenzenzählen und der
                                                               automatisierten Variante finden Sie in den Abschnitten 2.4 und 2.5.
                                                               
                                                               
                                                            </p>
                                                         </td>
                                                         
                                                         
                                                      </tr>
                                                      
                                                      
                                                      
                                                      
                                                   </tbody>
                                                </table><br><div align="center"><a href="#top"><img src="common/jupiters.gif" border="0" alt="Galileo Computing - Zum Seitenanfang"></a></div><a id="dodtped2fad0b-b7d9-4cb2-a242-690d12e31f03" name="dodtped2fad0b-b7d9-4cb2-a242-690d12e31f03"></a><h3 class="t3"><span class="cfett">2.1.3</span><span class="cfett"> Initializer</span><a href="#dodtpc2b45df8-e753-4293-8809-922175e842c5"><img src="common/down.gif" width="15" height="15" border="0" alt="Zur nächsten Überschrift"></a><a href="#dodtp440339c2-87fc-4c90-8ed3-a4b9cfcb79f8"><img src="common/top.gif" width="15" height="15" border="0" alt="Zur vorigen Überschrift"></a></h3>
                                                <p>Die Klasse <span class="clisting">Fahrzeug</span> ist bisher noch nicht wirklich nützlich. Sie verfügt weder über Methoden, um irgendetwas
                                                   zu tun, noch über Attribute, um Daten zu speichern. Damit die Klasse nicht nur Speicher
                                                   belegt, bekommt sie nun einige Attribute, die fahrzeugtypische Daten speichern können.
                                                   Zusätzlich erhält sie Methoden, um auf die Variablen zuzugreifen und um Operationen
                                                   mit den in den Variablen gespeicherten Werten durchzuführen.
                                                </p>
                                                <p>Interessant an einem Fahrzeug sind beispielsweise die folgenden Parameter:</p>
                                                <ol class="paufz">
                                                   <li>Preis</li>
                                                   <li>Baujahr</li>
                                                   <li>Geschwindigkeit</li>
                                                   <li>Name</li>
                                                </ol>
                                                <p>Mit den Attributen für diese Eigenschaften sieht die Klasse <span class="clisting">Fahrzeug</span> wie folgt aus:
                                                </p>
                                                <div class="listing"><pre class="prettyprint">@interface Fahrzeug : NSObject {<br>@private<br>    NSNumber    *preis;<br>    int         geschwindigkeit;<br>    NSString    *name;<br>    NSDate      *baujahr;<br>}<br>@end<br></pre></div>
                                                <p class="plistingunter"><strong>Listing 2.5   </strong>Schnittstelle der Klasse »Fahrzeug« mit Attributen
                                                </p>
                                                <p>Den Preis nimmt eine Variable der Klasse <span class="clisting">NSNumber</span> auf, die zur Speicherung von Zahlenwerten dient. Variablen dürfen natürlich aber
                                                   auch »alte« C-Typen sein, und so ist die Variable für die Geschwindigkeit ein Integer,
                                                   also kein Objekt, sondern ein einfacher Datentyp. Der Klasse <span class="clisting">NSNumber</span> wird dann gerne der Vorzug gegenüber dem primitiven Datentyp gegeben, wenn der enthaltene
                                                   Wert optional ist, also nicht vorliegen muss. Einen fehlenden Wert drücken Sie dabei
                                                   durch den Wert <span class="clisting">nil</span> aus. Der Preis des Fahrzeugs muss also nicht bekannt sein, die Geschwindigkeit hingegen
                                                   schon.
                                                </p>
                                                <p>Der Name des Fahrzeugs wird in einem String abgelegt. Cocoa Touch bietet dazu die
                                                   Klasse <span class="clisting">NSString</span> und die davon abgeleitete Klasse <span class="clisting">NSMutableString</span>, die das nachträgliche Ändern des Strings erlaubt. Wer schon mal mit Zeichenketten
                                                   in C gearbeitet hat, der weiß die Vorzüge eines eigenen Typs für Zeichenketten zu
                                                   schätzen. Das Baujahr des Fahrzeugs nimmt eine Variable der Klasse <span class="clisting">NSDate</span> auf, die einen genauen Zeitpunkt enthält.
                                                </p>
                                                <p>Es wäre nun schön, wenn ein Objekt vom Typ <span class="clisting">Fahrzeug</span> direkt bei der Initialisierung Werte entgegennähme, um damit die Attribute zu füllen.
                                                   Das Objekt erst zu initialisieren, um dann mittels extra dafür implementierter Methoden
                                                   die Attributwerte zu setzen, ist häufig umständlich. Glücklicherweise erlaubt Objective-C
                                                   das Implementieren von unterschiedlichen Initializern in einer Klasse.
                                                </p>
                                                <p>Zwar kann man in der Methode <span class="clisting">init</span> bereits Werte in die Instanzvariablen setzen. Das sind aber mangels Eingabeparametern
                                                   immer nur die gleichen Standardwerte und ergibt wenig Sinn, wenngleich dies in vielen
                                                   Situationen ausreichend ist. Bei vielen Klassen ist es sehr hilfreich, dem Initialisierungsaufruf
                                                   Parameter übergeben zu können, sodass das neu erzeugte Objekt direkt mit den gewünschten
                                                   Werten versehen werden kann.
                                                </p>
                                                <p>Die Klasse <span class="clisting">Fahrzeug</span> erhält dazu eine neue Methode, die nach der Konvention mit dem Präfix <span class="clisting">init</span> beginnen sollte. Diese Methode übernimmt alle gewünschten Werte und weist sie den
                                                   Instanzvariablen zu:
                                                </p>
                                                <div class="listing"><pre class="prettyprint">-(id)initWithPreis:(NSNumber*)inPreis<br>   geschwindigkeit:(int)inGeschwindigkeit<br>              name:(NSString*)inName<br>           baujahr:(NSDate*)inBaujahr;<br></pre></div>
                                                <p>Die Methode besitzt vier Parameter für die vier Attribute. Die Implementierung der
                                                   Methode sieht demnach wie folgt aus:
                                                </p>
                                                <div class="listing"><pre class="prettyprint">-(id)initWithPreis:(NSNumber*)inPreis<br>   geschwindigkeit:(int)inGeschwindigkeit<br>              name:(NSString*)inName<br>           baujahr:(NSDate*)inBaujahr {<br>    NSLog(@"[+] %@", NSStringFromSelector(_cmd));<br>    self = [super init];<br>    if(self != nil){<br>        preis = inPreis;<br>        geschwindigkeit = inGeschwindigkeit;<br>        name = inName;<br>        baujahr = inBaujahr;<br>       [preis retain];<br>       [name retain];<br>        [baujahr retain];<br>    }<br>    return self;<br>}<br></pre></div>
                                                <p class="plistingunter"><strong>Listing 2.6   </strong>Initializer mit Parameterübergabe
                                                </p>
                                                <p>Die drei <span class="clisting">retain</span>-Aufrufe sind notwendig, um Speicherfehler zu vermeiden. Eine genauere Erklärung dazu
                                                   finden Sie im Abschnitt über Speicherverwaltung.
                                                </p>
                                                <p>Sie können jetzt diesen Initializer dazu verwenden, dass auch der Standardinitializer
                                                   Werte setzen kann. Dazu verändern Sie einfach die Methode <span class="clisting">init</span> so, dass sie die Methode <span class="clisting">initWithPreis:geschwindigkeit:name:baujahr:</span> mit den gewünschten Werten aufruft. Diese kümmert sich um alles.
                                                </p>
                                                <table width="100%" border="0" cellspacing="1" cellpadding="3">
                                                   <tbody>
                                                      
                                                      
                                                      <tr>
                                                         
                                                         
                                                         <td class="tabellenkopf"><span class="cfett">
                                                               
                                                               
                                                               
                                                               Designierter Initializer
                                                               
                                                               </span></td>
                                                         
                                                         
                                                      </tr>
                                                      
                                                      
                                                      <tr>
                                                         
                                                         
                                                         <td class="tabellentext">
                                                            <p>Die Beispielklasse <span class="clisting">Fahrzeug</span> verfügt über mehrere Initializer, von denen nur einer die eigentliche Initialisierungsaufgabe
                                                               übernimmt. Diesen Initializer nennt man den <span class="cbegriff">designierten Initializer</span><a class="indexterm" id="dodtpa0d37834-4f05-448f-9393-6e5ce1d084da"></a> (<span class="cbegriff">designated Initializer</span>). Der designierte Initializer muss auch immer die Initialisierung der Superklasse
                                                               ausführen, da es andernfalls eine Initialisierungsmöglichkeit gäbe, die das nicht
                                                               macht. Das würde zu unvollständig initialisierten Objekten führen. Jeder Initializer
                                                               muss also &#8211; direkt oder indirekt &#8211; einen Initializer der Superklasse aufrufen. Der
                                                               Standard-Initializer (<span class="clisting">init</span>) macht also nichts weiter, als den designierten Initializer aufzurufen.
                                                               
                                                               
                                                            </p>
                                                         </td>
                                                         
                                                         
                                                      </tr>
                                                      
                                                      
                                                   </tbody>
                                                </table>
                                                <div class="listing"><pre class="prettyprint">- (id)init {<br>    NSLog(@"[+] %@", NSStringFromSelector(_cmd));<br>    NSNumber *thePreis = [NSNumber numberWithInt:20000];<br>    return [self initWithPreis:thePreis<br>               geschwindigkeit:120<br>                          name:@"Herbi"<br>                       baujahr:[NSDate date];<br>}<br></pre></div>
                                                <p class="plistingunter"><strong>Listing 2.7   </strong>Initialisierung über den designierten Initializer
                                                </p>
                                                <p><span class="clisting">init</span> gibt also einfach den Rückgabewert von <span class="clisting">initWithPreis:geschwindigkeit: name:baujahr:</span> zurück. Die Werte für diesen Aufruf sind in diesem Beispiel natürlich wenig sinnvoll,
                                                   da sie hart im Programmcode verdrahtet sind. In der Praxis werden solche Werte dynamisch
                                                   erzeugt, zumindest aber nicht fest in die <span class="clisting">init</span>-Methode kodiert. Um das Prinzip der Initialisierung mit Argumenten zu zeigen, ist
                                                   dies allerdings ausreichend.
                                                </p>
                                                <p>Verfügt eine Klasse über Attribute, muss der Programmierer in der <span class="clisting">dealloc</span>-Methode sicherstellen, dass alle Ressourcen freigegeben werden. Daher müssen Sie
                                                   die <span class="clisting">dealloc</span>-Methode der Klasse <span class="clisting">Fahrzeug</span> um die neuen Attribute erweitertn:
                                                </p>
                                                <div class="listing"><pre class="prettyprint">- (void)dealloc {<br>    NSLog(@"[+] %@", NSStringFromSelector(_cmd));<br>    [preis release];<br>    [name release];<br>    [baujahr release];<br>    [super dealloc];<br>}<br></pre></div>
                                                <p class="plistingunter"><strong>Listing 2.8   </strong>Ressourcenfreigabe in »dealloc«
                                                </p>
                                                <p>Für die drei Aufrufe von <span class="clisting">release</span> gilt dasselbe wie weiter oben für die drei <span class="clisting">retain</span>-Aufrufe: Die Erläuterung folgt in Abschnitt 2.4.
                                                </p>
                                                <p>Die Klasse <span class="clisting">Fahrzeug</span> besitzt nun also Attribute und einen Initializer, der diese Variablen beim Erzeugen
                                                   füllt. Was jetzt noch fehlt, sind Methoden, um auf die Attributwerte zuzugreifen.
                                                   Schließlich möchte man das Objekt ja benutzen, um etwas damit zu tun, beispielsweise
                                                   um die Werte auszugeben.
                                                </p>
                                                <p>Der Zugriff auf Attribute erfolgt grundsätzlich nie direkt, sondern über <span class="cbegriff">Accessoren</span><a class="indexterm" id="dodtp00b11a2b-3114-4448-91f8-d5fededa9217"></a> (Zugriffsmethoden). In Objective-C 2.0 kann der Compiler diese automatisch erzeugen
                                                   (siehe Abschnitt 2.4.3, »Propertys«); für ein fundiertes Verständnis ist es aber notwendig,
                                                   das Prinzip der Accessoren nachzuvollziehen.
                                                </p><br><div align="center"><a href="#top"><img src="common/jupiters.gif" border="0" alt="Galileo Computing - Zum Seitenanfang"></a></div><a id="dodtpc2b45df8-e753-4293-8809-922175e842c5" name="dodtpc2b45df8-e753-4293-8809-922175e842c5"></a><h3 class="t3"><span class="cfett">2.1.4</span><span class="cfett"> Accessoren</span><a href="#dodtp2bd8202a-415e-4a11-a4a9-3efc656775a2"><img src="common/down.gif" width="15" height="15" border="0" alt="Zur nächsten Überschrift"></a><a href="#dodtped2fad0b-b7d9-4cb2-a242-690d12e31f03"><img src="common/top.gif" width="15" height="15" border="0" alt="Zur vorigen Überschrift"></a></h3>
                                                <p>Jede Instanzvariable erhält zwei Accessoren: einen <span class="cbegriff">Getter</span> zum Lesen der Daten und einen <span class="cbegriff">Setter</span> zum Schreiben. Dazu erweitern Sie das Interface der Klasse <span class="clisting">Fahrzeug</span> um die folgenden Zeilen:
                                                </p>
                                                <div class="listing"><pre class="prettyprint">#pragma mark Getter<br>-(NSNumber*)preis;<br>-(int)geschwindigkeit;<br>-(NSString*)name;<br>-(NSDate*)baujahr;<br><br>#pragma mark Setter<br>-(void)setPreis:(NSNumber*)inPreis;<br>-(void)setGeschwindigkeit:(int)inGeschwindigkeit;<br>-(void)setName:(NSString*)inName;<br>-(void)setBaujahr:(NSDate*)inBaujahr;<br></pre></div>
                                                <p class="plistingunter"><strong>Listing 2.9   </strong>Accessoren für die Klasse »Fahrzeug«
                                                </p>
                                                <p>Die beiden <span class="clisting">#pragma</span>-Direktiven sind Anweisungen an Xcode, damit es im Menü mit der Methodenliste die
                                                   Überschriften <span class="cscreenelement">Getter</span> und <span class="cscreenelement">Setter</span> einfügt. Für den Compiler sind diese Direktiven nicht von Belang, und sie dienen
                                                   lediglich der Übersichtlichkeit. Bei Klassen mit vielen Methoden kann das von großem
                                                   Nutzen sein.
                                                </p>
                                                <p>In Objective-C ist es Konvention, dass der Getter eines Attributs den Namen des Attributs
                                                   bekommt. Der Setter hingegen bekommt den Namen des Attributs mit dem Präfix <span class="clisting">set</span>. Die Implementierung der Accessoren ist simpel und häufig reine Tipp-Arbeit. Die
                                                   Getter geben einfach den Wert des Attributs zurück:
                                                </p>
                                                <div class="listing"><pre class="prettyprint">#pragma mark Getter<br><br>-(NSNumber*)preis{<br>    NSLog(@"[+] %@", NSStringFromSelector(_cmd));<br>    return preis;<br>}<br><br>-(int)geschwindigkeit{<br>    NSLog(@"[+] %@", NSStringFromSelector(_cmd));<br>    return geschwindigkeit;<br>}<br><br>-(NSString*)name{<br>    NSLog(@"[+] %@", NSStringFromSelector(_cmd));<br>    return name;<br>}<br><br>-(NSDate*)baujahr{<br>    NSLog(@"[+] %@", NSStringFromSelector(_cmd));<br>    return baujahr;<br>}<br></pre></div>
                                                <p class="plistingunter"><strong>Listing 2.10   </strong>Die Getter der Klasse »Fahrzeug«
                                                </p>
                                                <p>Die Setter für einfache Datentypen weisen den neuen Wert einfach dem Attribut zu.
                                                   Bei Objekten ist es etwas komplizierter. Da müssen Sie wegen der Speicherverwaltung
                                                   dem neuen Wert ein Retain schicken, den alten Wert freigeben und schließlich den Attributwert
                                                   setzen. Sie wissen ja schon: Genaueres dazu erfahren Sie in Abschnitt 2.4. Für die
                                                   Klasse <span class="clisting">Fahrzeug</span> sieht das dann so aus:
                                                </p>
                                                <div class="listing"><pre class="prettyprint">#pragma mark Setter<br><br>-(void)setPreis:(NSNumber*)inPreis {<br>    NSLog(@"[+] %@", NSStringFromSelector(_cmd));<br>    [inPreis retain];<br>    [preis release];<br>    preis = inPreis;<br>}<br><br>-(void)setGeschwindigkeit:(int)inGeschwindigkeit {<br>    NSLog(@"[+] %@", NSStringFromSelector(_cmd));<br>    geschwindigkeit = inGeschwindigkeit;<br>}<br><br>-(void)setName:(NSString*)inName{<br>    NSLog(@"[+] %@", NSStringFromSelector(_cmd));<br>    [inName retain];<br>    [name release];<br>    name = inName;<br>}<br><br>-(void)setBaujahr:(NSDate*)inBaujahr{<br>    NSLog(@"[+] %@", NSStringFromSelector(_cmd));<br>    [inBaujahr retain];<br>    [baujahr release];<br>    baujahr = inBaujahr;<br>}<br></pre></div>
                                                <p class="plistingunter"><strong>Listing 2.11   </strong>Die Setter der Klasse »Fahrzeug«
                                                </p>
                                                <table width="100%" border="0" cellspacing="1" cellpadding="3">
                                                   <tbody>
                                                      
                                                      
                                                      <tr>
                                                         
                                                         
                                                         <td class="tabellenkopf"><span class="cfett">
                                                               
                                                               
                                                               
                                                               Logging
                                                               
                                                               </span></td>
                                                         
                                                         
                                                      </tr>
                                                      
                                                      
                                                      <tr>
                                                         
                                                         
                                                         <td class="tabellentext">
                                                            <p>Die Log-Anweisungen in den Gettern und Settern dienen später nur der Veranschaulichung
                                                               des Programmablaufs. In eigenen Programmen sollten Sie sparsam mit Log-Ausgaben umgehen,
                                                               da auch das iOS diese in einer Datei speichert. Nutzen Sie Log-Ausgaben möglichst
                                                               also nur dazu, um wichtige Programmzustände zu protokollieren.
                                                               
                                                               
                                                            </p>
                                                         </td>
                                                         
                                                         
                                                      </tr>
                                                      
                                                      
                                                      <tr>
                                                         
                                                         
                                                         <td class="tabellentext">
                                                            <p>Für die Beobachtung des Programmablaufs brauchen Sie kein Logging. Dafür gibt es elegantere
                                                               Wege. Der <span class="cbegriff">Debugger</span><a class="indexterm" id="dodtpe5959e93-4b0a-4fa2-8e6d-805030949c60"></a> (siehe Kapitel 3) erlaubt Ihnen die schrittweise Verfolgung des Programmablaufs,
                                                               und über <span class="cbegriff">Instruments</span> (siehe Kapitel 5) können Sie quantitative Analysen der Methodenaufrufe durchführen.
                                                               
                                                               
                                                            </p>
                                                         </td>
                                                         
                                                         
                                                      </tr>
                                                      
                                                      
                                                   </tbody>
                                                </table><a href="bilder/02_013.png" rel="lightbox" title="Gruppierung der Methodenübersicht mit »#pragma«"><img class="bild" border="1" src="bilderklein/klein02_013.png" alt="Abbildung"></a><p class="pbildunter"><strong>Abbildung 2.13   </strong>Gruppierung der Methodenübersicht mit »#pragma«
                                                </p>
                                                <table width="100%" border="0" cellspacing="1" cellpadding="3">
                                                   <tbody>
                                                      
                                                      
                                                      <tr>
                                                         
                                                         
                                                         <td class="tabellenkopf"><span class="cfett">
                                                               
                                                               
                                                               
                                                               Die Punktnotation
                                                               
                                                               </span></td>
                                                         
                                                         
                                                      </tr>
                                                      
                                                      
                                                      <tr>
                                                         
                                                         
                                                         <td class="tabellentext">
                                                            <p>Objective-C erlaubt für den Aufruf von Zugriffsmethoden eine alternative Syntax. Anstelle
                                                               der eckigen Klammern verwenden Sie hierfür einen Punkt, und bei den Settern lassen
                                                               Sie das Präfix <span class="clisting">set</span> weg. Die Anweisung
                                                               
                                                               
                                                               <div class="listing"><pre class="prettyprint">[[self user] setName:[textField text];<br></pre></div>
                                                               
                                                               können Sie mit der Punktnotation auch kurz als
                                                               
                                                               
                                                               <div class="listing"><pre class="prettyprint">self.user.name = textField.text;<br></pre></div>
                                                               
                                                               schreiben. Es ist aber auch hier ein Unterschied, ob Sie <span class="clisting">self.user</span> oder einfach nur <span class="clisting">user</span> schreiben. Während <span class="clisting">[self user]</span> und <span class="clisting">self.user</span> Methodenaufrufe sind, ist <span class="clisting">user</span> nur ein direkter Attributzugriff ohne Methodenaufruf. Zwischen der Notation mit eckigen
                                                               Klammern und der Punktnotation besteht also nur ein syntaktischer, aber kein semantischer
                                                               Unterschied.
                                                               
                                                               
                                                            </p>
                                                         </td>
                                                         
                                                         
                                                      </tr>
                                                      
                                                      
                                                      
                                                      
                                                      
                                                      
                                                      
                                                      
                                                      
                                                      
                                                   </tbody>
                                                </table><br><div align="center"><a href="#top"><img src="common/jupiters.gif" border="0" alt="Galileo Computing - Zum Seitenanfang"></a></div><a id="dodtp2bd8202a-415e-4a11-a4a9-3efc656775a2" name="dodtp2bd8202a-415e-4a11-a4a9-3efc656775a2"></a><h3 class="t3"><span class="cfett">2.1.5</span><span class="cfett"> Eigene Methoden</span><a href="#dodtp7aef30a2-4169-4daf-96f7-7923ce0e492e"><img src="common/down.gif" width="15" height="15" border="0" alt="Zur nächsten Überschrift"></a><a href="#dodtpc2b45df8-e753-4293-8809-922175e842c5"><img src="common/top.gif" width="15" height="15" border="0" alt="Zur vorigen Überschrift"></a></h3>
                                                <p>Ein Objekt der Klasse <span class="clisting">Fahrzeug</span> besitzt jetzt also Attribute und Accessoren, um auf diese Attribute zuzugreifen.
                                                   Damit lässt sich schon fast eine Fahrzeugdatenbank aufbauen. Um der Klasse neben den
                                                   Accessoren und den Standardmethoden <span class="clisting">init</span> und <span class="clisting">alloc</span> wenigstens eine Methode zu geben, die mehr als das reine Setzen oder Abrufen von
                                                   Attributwerten macht, erhält die Klasse <span class="clisting">Fahrzeug</span> jetzt noch die Methode <span class="clisting">getId</span>, die eine eindeutige Kennung für jedes Fahrzeug erzeugt und ausgibt.
                                                </p>
                                                <p>Die Deklaration der Methode <span class="clisting">getId</span> ist einfach. Die Methode übernimmt keine Argumente und gibt als Rückgabewert einen
                                                   Zeiger auf ein Objekt vom Typ <span class="clisting">NSString</span> zurück.
                                                </p>
                                                <p><span class="clisting">-(NSString*)getId;</span></p>
                                                <p>Zu Demonstrationszwecken ist die Implementierung etwas aufwendiger. Die Methode nimmt
                                                   alle Attribute des Objekts, fügt sie als String hintereinander und erzeugt aus diesen
                                                   Informationen einen SHA256-Hash. Mit diesem Hash lässt sich das Fahrzeug eindeutig
                                                   identifizieren.
                                                </p>
                                                <div class="listing"><pre class="prettyprint">-(NSString*)getId {<br>    NSLog(@"[+] %@", NSStringFromSelector(_cmd));<br>    NSString *theKey =         [NSString stringWithFormat:@"%@%0.2f%d%@",          [self name], [[self preis] floatValue],          [self geschwindigkeit], [self baujahr]];<br>    unsigned char theCharacters[CC_SHA256_DIGEST_LENGTH];<br>    NSMutableString *theHash = [NSMutableString      stringWithCapacity:CC_SHA256_DIGEST_LENGTH];<br><br>    CC_SHA256([theKey UTF8String],<br>              [theKey                lengthOfBytesUsingEncoding:NSUTF8StringEncoding],               theCharacters);<br>    for (int i = 0; i &lt; CC_SHA256_DIGEST_LENGTH; ++i) {<br>        [theHash appendString:[NSString          stringWithFormat:@"%02x", theCharacters[i]]];<br>    }<br>    NSLog(@"[+] ID: %@", theHash);<br>    return theHash;<br>}<br></pre></div>
                                                <p class="plistingunter"><strong>Listing 2.12   </strong>Berechnung eines Kennungswertes
                                                </p>
                                                <p>Die Methode setzt im ersten Teil alle Attributwerte zu einer Zeichenkette zusammen.
                                                   Dabei verwendet sie die Getter und greift nicht direkt auf die Attribute zu. Dieses
                                                   Vorgehen hat den Vorteil, dass Unterklassen die Getter überschreiben können und die
                                                   Zeichenkette dann die überschriebenen Werte enthält.
                                                </p>
                                                <p>Die Funktion zum Erzeugen des SHA256-Hashwertes lautet <span class="clisting">CC_SHA256</span> und ist in der Header-Datei <span class="cdateipfad">CommonCrypto/CommonDigest.h</span> deklariert, weswegen Xcode automatisch beim Eintragen der Funktion in den Editor
                                                   die entsprechende <span class="clisting">#import</span>-Anweisung anlegt:
                                                </p>
                                                <div class="listing"><pre class="prettyprint">#import &lt;CommonCrypto/CommonDigest.<br></pre></div>
                                                <p>Diese C-Funktion gehört zum Betriebssystem und ist nicht Bestandteil des Foundation-Frameworks:</p>
                                                <div class="listing"><pre class="prettyprint">CC_SHA256(const void *data, CC_LONG len, unsigned char *md);<br></pre></div>
                                                <p>Als Parameter erwartet die Funktion beliebige Binärdaten, die Länge dieser Daten und
                                                   ein <span class="clisting">char</span>-Array für die Ablage des Hashwertes. Zunächst muss die Methode aber die Objective-C-Zeichenkette
                                                   in Binärdaten umwandeln. Das geht am einfachsten, indem sie die C-Zeichenkette berechnet.
                                                   Eine Zeichenkette repräsentiert C als Array von Zeichen mit einer abschließenden Null
                                                   am Ende.
                                                </p>
                                                <table width="100%" border="0" cellspacing="1" cellpadding="3">
                                                   <tbody>
                                                      
                                                      
                                                      <tr>
                                                         
                                                         
                                                         <td class="tabellenkopf"><span class="cfett">
                                                               
                                                               
                                                               
                                                               Verwendung kryptografischer Funktionen
                                                               
                                                               </span></td>
                                                         
                                                         
                                                      </tr>
                                                      
                                                      
                                                      <tr>
                                                         
                                                         
                                                         <td class="tabellentext">
                                                            <p>Beim Einreichen von Apps mit kryptografischen Funktionen in den App-Store sind einige
                                                               Zusatzfragen zur <span class="cbegriff">Export Compliance</span> zu beantworten. Die verwendeten Funktionen dürfen dabei der US-Exportbeschränkung
                                                               für Kryptografie nicht zuwiderlaufen. Überdies durchläuft jede App, die kryptografische
                                                               Funktionen verwendet, einen gesonderten Prozess. An dessen Ende stellt die US-Regierung
                                                               eine CCATS-Nummer aus, die die App freigibt. Dieser Prozess kann bis zu 30 Tage und
                                                               länger dauern.
                                                               
                                                               
                                                            </p>
                                                         </td>
                                                         
                                                         
                                                      </tr>
                                                      
                                                      
                                                   </tbody>
                                                </table><a href="bilder/02_014.png" rel="lightbox" title="Export Compliance bei Verwendung von Kryptografie"><img class="bild" border="1" src="bilderklein/klein02_014.png" alt="Abbildung"></a><p class="pbildunter"><strong>Abbildung 2.14   </strong>Export Compliance bei Verwendung von Kryptografie
                                                </p>
                                                <p>Aus dem berechneten SHA-256-Hash in der Variablen <span class="clisting">theCharacters</span> muss die Methode wieder eine Objective-C-Zeichenkette erzeugen. Dafür verwendet sie
                                                   ein Objekt der Klasse <span class="clisting">NSMutableString</span>. Dabei erzeugt sie zu jedem Zeichen im Funktionsergebnis
                                                </p>
                                                <div class="listing"><pre class="prettyprint">unsigned char theCharacters[CC_SHA256_DIGEST_LENGTH];<br></pre></div>
                                                <p>die zugehörige, zweistellige Hexadezimaldarstellung. <span class="footnote"><a id="dodtpfff7bcb9-1ea4-4e14-b792-4480a9abaec9">[12](Ein einzelnes, vorzeichenloses Zeichen in C hat den Typ <span class="clisting">unsigned char</span>. Dieser Typ belegt unter Cocoa und Cocoa Touch immer genau ein Byte. Diese Zeichen können Sie aber auch als Zahlen zwischen 0 und 255 auffassen.)</a></span></p>
                                                <p>Um die Methode <span class="clisting">getId</span> aufzurufen, erweitern Sie die Datei <span class="cdateipfad">main.m</span> um den entsprechenden Methodenaufruf:
                                                </p>
                                                <div class="listing"><pre class="prettyprint">...<br>Fahrzeug *fahrzeug = [[Fahrzeug alloc] init];<br>[fahrzeug getId];<br>[fahrzeug autorelease];<br>...<br></pre></div>
                                                <p class="plistingunter"><strong>Listing 2.13   </strong>Aufruf der Methode <span class="clisting">getId</span></p>
                                                <p>Führen Sie das Programm nun aus, und beobachten Sie die Ausgabe auf der Konsole ohne
                                                   den Zeitstempel und den Programmnamen:
                                                </p>
                                                <div class="listing"><pre class="prettyprint">[+] initWithPreis:geschwindigkeit:name:baujahr:<br>[+] getId<br>[+] ID:      411799869428242da044890c97403194b25f234849573cf2141ea84e7117d010<br>[+] dealloc<br></pre></div>
                                                <p>Nach dem Aufruf der Methode <span class="clisting">init</span> erfolgt der Aufruf von <span class="clisting">initWithPreis: geschwindigkeit:name:baujahr:</span> und anschließend der von <span class="clisting">getId</span>, um am Ende über <span class="clisting">dealloc</span> das Objekt freizugeben. So weit verhält sich das Programm wie erwartet.
                                                </p><br><div align="center"><a href="#top"><img src="common/jupiters.gif" border="0" alt="Galileo Computing - Zum Seitenanfang"></a></div><a id="dodtp7aef30a2-4169-4daf-96f7-7923ce0e492e" name="dodtp7aef30a2-4169-4daf-96f7-7923ce0e492e"></a><h3 class="t3"><span class="cfett">2.1.6</span><span class="cfett"> Vererbung</span><a href="#dodtpae46f97c-a33c-4dd7-a01e-2041189ef40c"><img src="common/down.gif" width="15" height="15" border="0" alt="Zur nächsten Überschrift"></a><a href="#dodtp2bd8202a-415e-4a11-a4a9-3efc656775a2"><img src="common/top.gif" width="15" height="15" border="0" alt="Zur vorigen Überschrift"></a></h3>
                                                <p>Ein Grundmerkmal objektorientierter Programmierung ist, wie im ersten Kapitel beschrieben,
                                                   die Vererbung. Im Beispiel der Klasse <span class="clisting">Fahrzeug</span> wären <span class="clisting">Automobil</span> und <span class="clisting">Motorrad</span> denkbare Unterklassen. Damit lassen sich von der generischen und in der Praxis wenig
                                                   brauchbaren Klasse <span class="clisting">Fahrzeug</span> Spezialisierungen für konkrete Anwendungsbereiche erzeugen.
                                                </p>
                                                <p>Natürlich könnte man die Klasse <span class="clisting">Fahrzeug</span> so erweitern, dass sie alle notwendigen Informationen und Operationen auch für Autos
                                                   und Motorräder aufnehmen beziehungsweise ausführen kann. Das führt aber sehr schnell
                                                   zu einer sehr großen und unübersichtlichen Klasse. Sie müssen an jeder Stelle, wo
                                                   das Verhalten von Autos und Motorrädern unterschiedlich ist, eine Fallunterscheidung
                                                   einbauen. Das widerspricht also dem Grundgedanken der Strukturierung und Wiederverwendung.
                                                   In vielen Fällen haben Sie aber keinen Zugriff auf den Quelltext der gewünschten Oberklasse,
                                                   sodass sich die Option der Erweiterung einer bestehenden Klasse auch gar nicht anbietet.
                                                   Wollten Sie beispielsweise <span class="clisting">NSObject</span> erweitern, müssten Sie den Quelltext dieser Klasse haben. Den rückt Apple aber nicht
                                                   heraus, und der geht Sie auch, offen gesagt, nichts an. Also erstellen Sie lieber
                                                   eine Subklasse und fügen dort die gewünschten Änderungen ein.
                                                </p>
                                                <p>Eine Unterklasse von <span class="clisting">Fahrzeug</span> erzeugen Sie in Xcode analog zur Klasse <span class="clisting">Fahrzeug</span>. Allerdings geben Sie im zweiten Schritt (siehe Abbildung 2.10) die Klasse <span class="clisting">Fahrzeug</span> als Oberklasse ein und speichern die Klasse unter dem Namen <span class="clisting">Automobil</span>. Die Schnittstelle der Klasse sieht wie folgt aus:
                                                </p>
                                                <div class="listing"><pre class="prettyprint">#import &lt;Foundation/Foundation.h&gt;<br>#import "Fahrzeug.h"<br><br>@interface Automobil : Fahrzeug<br>@end<br></pre></div>
                                                <p class="plistingunter"><strong>Listing 2.14   </strong>Deklaration der Klasse »Automobil«
                                                </p>
                                                <p>Die Import-Anweisung für das Interface der Klasse <span class="clisting">Fahrzeug</span> ist notwendig, damit der Klasse <span class="clisting">Automobil</span> die Eigenschaften der Superklasse bekannt sind. Welche Klasse die Superklasse ist,
                                                   steht hinter dem eigenen Klassennamen. Mehr ist für das Erzeugen der neuen Subklasse
                                                   nicht erforderlich &#8211; der Vorgang der Vererbung ist in Objective-C also wesentlich
                                                   einfacher als im echten Leben.
                                                </p>
                                                <p>Die Implementierung enthält zunächst lediglich die Methoden <span class="clisting">init</span> und <span class="clisting">dealloc</span>. Sofern keine Notwendigkeit besteht, müssen Sie diese Methoden nicht überschreiben.
                                                </p>
                                                <div class="listing"><pre class="prettyprint">#import "Automobil.h"<br><br>@implementation Automobil<br><br>- (id)init {<br>    self = [super init];<br>    if (self != nil) {<br>        // Initialization code here.<br>    }<br>    return self;<br>}<br><br>- (void)dealloc {<br>    // Clean-up code here.<br>    [super dealloc];<br>}<br>@end<br></pre></div>
                                                <p class="plistingunter"><strong>Listing 2.15   </strong>»init« und »dealloc« der »Automobil«-Klasse
                                                </p>
                                                <table width="100%" border="0" cellspacing="1" cellpadding="3">
                                                   <tbody>
                                                      
                                                      
                                                      <tr>
                                                         
                                                         
                                                         <td class="tabellenkopf"><span class="cfett">
                                                               
                                                               
                                                               
                                                               Namen und Schlüsselwörter
                                                               
                                                               </span></td>
                                                         
                                                         
                                                      </tr>
                                                      
                                                      
                                                      <tr>
                                                         
                                                         
                                                         <td class="tabellentext">
                                                            <p>Ein etwas weniger umständlicher Name als <span class="clisting">Automobil</span> für die neue Klasse wäre <span class="clisting">Auto</span>. Der Compiler hat zwar keine Einwände gegen diese Namenswahl. Da allerdings <span class="clisting">auto</span> ein Schlüsselwort der Programmiersprache C und somit reserviert ist, riskieren Sie
                                                               bei der Wahl von Variablen- und Attributnamen leicht Konflikte mit dem Übersetzer.
                                                               
                                                               
                                                            </p>
                                                         </td>
                                                         
                                                         
                                                      </tr>
                                                      
                                                      
                                                   </tbody>
                                                </table>
                                                <p>Erzeugen Sie ein Objekt der Klasse <span class="clisting">Automobil</span>, in dem Sie in der Datei <span class="cdateipfad">main.m</span> zunächst die Headerdatei von <span class="clisting">Automobil</span> über
                                                </p>
                                                <div class="listing"><pre class="prettyprint">#import "Automobil.h"<br></pre></div>
                                                <p>importieren. Danach können Sie ein neues Auto analog zu den Fahrzeugen allozieren
                                                   und initialisieren:
                                                </p>
                                                <div class="listing"><pre class="prettyprint">Automobil *automobil = [[Automobil alloc] init];<br></pre></div>
                                                <p>Senden Sie dem Objekt <span class="clisting">automobil</span>, genauso wie vorher schon dem Objekt <span class="clisting">fahrzeug</span>, nach der Initialisierung die Nachricht <span class="clisting">getId</span>:
                                                </p>
                                                <div class="listing"><pre class="prettyprint">[automobil getId];<br></pre></div>
                                                <p>Führen Sie das Programm wieder aus, und beobachten Sie die Ausgabe auf der Konsole.
                                                   Sie erhalten die folgende Ausgabe:.
                                                </p>
                                                <div class="listing"><pre class="prettyprint">--- Fahrzeug *fahrzeug = [[Fahrzeug alloc] init]; ---<br>[+] init<br>[+] initWithPreis:geschwindigkeit:name:baujahr:<br> --- Automobil *automobil = [[Automobil alloc] init]; ---<br>[+] init<br>[+] init<br>[+] initWithPreis:geschwindigkeit:name:baujahr:<br> --- [fahrzeug getId]; ---<br>[+] getId<br>[+] name<br>[+] preis<br>[+] geschwindigkeit<br>[+] baujahr<br>[+] ID: 673408a9d32cb6c15cae5c5bc3bf71fef27ef48e277e7fb8af80c3cac8b8b8e9<br> --- [automobil getId]; ---<br>[+] getId<br>[+] name<br>[+] preis<br>[+] geschwindigkeit<br>[+] baujahr<br>[+] ID: 673408a9d32cb6c15cae5c5bc3bf71fef27ef48e277e7fb8af80c3cac8b8b8e9<br> --- [fahrzeug release]; ---<br>[+] dealloc<br> --- [automobil release] ---<br>[+] dealloc<br>[+] dealloc<br> --- [pool drain]; ---<br></pre></div>
                                                <p class="plistingunter"><strong>Listing 2.16   </strong>Ausgabe des Beispielprogramms
                                                </p>
                                                <p>Die Konsolenausgabe zeigt schön, wie die Methodenaufrufe zwischen der Ober- und der
                                                   Basisklasse verlaufen. Nach der Initialisierung des Objekts <span class="clisting">fahrzeug</span> erfolgt die Initialisierung des Objekts <span class="clisting">automobil</span>. Das Programm führt dafür zuerst die Init-Methode der Klasse <span class="clisting">Automobil</span> aus, die ihrerseits die Init-Methode und darüber <span class="clisting">initWithPreis:geschwindigkeit:name:baujahr:</span> der Oberklasse <span class="clisting">Fahrzeug</span> aufruft.
                                                </p>
                                                <p>Den Aufruf der Methode <span class="clisting">getId</span> leitet das Objekt <span class="clisting">automobil</span> ebenfalls an die Superklasse weiter, da <span class="clisting">Automobil</span> diese Methode zwar geerbt, aber nicht überschrieben hat.
                                                </p>
                                                <p>Die <span class="clisting">dealloc</span>-Methode gibt zunächst die eigenen Ressourcen von <span class="clisting">Automobil</span> und anschließend, durch den Aufruf der <span class="clisting">dealloc</span>-Methode von <span class="clisting">Fahrzeug</span>, dessen Ressourcen frei, weswegen Listing 2.16 zwei <span class="clisting">dealloc</span>-Ausgaben für dem Aufruf der Methode enthält.
                                                </p>
                                                <p>Bis hierher hat sich durch die Vererbung noch keine Änderung gegenüber der Superklasse
                                                   ergeben. Darum überschreiben Sie jetzt in der Klasse <span class="clisting">Automobil</span> die Methode <span class="clisting">getId</span> aus der Klasse <span class="clisting">Fahrzeug</span>. Um die von der Superklasse ererbte Methode zu überschreiben, müssen Sie diese nicht
                                                   erneut im Interface deklarieren.
                                                </p>
                                                <p>In der Implementierung der Methode <span class="clisting">getId</span> ändern Sie den Hash-Algorithmus von SHA256 auf SHA512. Damit einhergehend müssen
                                                   Sie auch die Größe des Puffers sowie die Anzahl der Schleifendurchläufe für die Iteration
                                                   über den Hashwert auf SHA512 anpassen. Um die Ausgabe des neuen Hashwertes in der
                                                   Konsole kenntlich zu machen, fügen Sie in der Log-Ausgabe noch eine 512 hinzu:
                                                </p>
                                                <div class="listing"><pre class="prettyprint">-(NSString*)getId {<br>    NSLog(@"[+] %@", NSStringFromSelector(_cmd));<br>    NSString *theKey = [NSString stringWithFormat:@"%@%0.2f%d%@", [self name], [[self preis] floatValue], [self geschwindigkeit], [self baujahr]];<br>    unsigned char theCharacters[CC_SHA512_DIGEST_LENGTH];<br>    NSMutableString *theHash = [NSMutableString stringWithCapacity:CC_SHA512_DIGEST_LENGTH];<br><br>    CC_SHA512([theKey UTF8String],<br>              [theKey lengthOfBytesUsingEncoding:NSUTF8StringEncoding], theCharacters);<br>    for (int i = 0; i &lt; CC_SHA512_DIGEST_LENGTH; ++i) {<br>        [theHash appendString:[NSString stringWithFormat:@"%02x", theCharacters[i]]];<br>    }<br>    NSLog(@"[+] ID 512: %@", theHash);<br>    return theHash;<br>}<br></pre></div>
                                                <p class="plistingunter"><strong>Listing 2.17   </strong>Die Methode »getId« in der Klasse »Automobil«
                                                </p>
                                                <p>Obwohl Sie den Aufruf der Methode <span class="clisting">getId</span> in der Datei <span class="cdateipfad">main.m</span> nicht verändert haben, führt das Programm jetzt die <span class="clisting">getId</span>-Methode der Klasse <span class="clisting">Automobil</span> und nicht die von <span class="clisting">Fahrzeug</span> aus. Die Ausgabe des Programms ändert sich wie folgt:
                                                </p>
                                                <div class="listing"><pre class="prettyprint">--- [automobil getId]; ---<br>[+] getId<br>[+] name<br>[+] preis<br>[+] geschwindigkeit<br>[+] baujahr<br>[+] ID 512: a58933990411851ba74c57a16b6b1a464a16c4203adad46c4fff270fdaa06a65fb45ef2f7498235af61803d282f014ec3a1a1fd338b67340af048a977363364c<br></pre></div>
                                                <p class="plistingunter"><strong>Listing 2.18   </strong>Ausgabe der überschriebenen »getId«-Methode
                                                </p>
                                                <p>Die Klasse <span class="clisting">Automobil</span> hat zwar die Methode <span class="clisting">getId</span> von <span class="clisting">Fahrzeug</span> geerbt, diese aber überschrieben. Beim Aufruf von <span class="clisting">getId</span> wird durch die Polymorphie automatisch zur Laufzeit die richtige Methode, und zwar
                                                   die von <span class="clisting">Automobil</span>, angesprochen.
                                                </p>
                                                <p>Um die Klasse <span class="clisting">Automobil</span> stärker auf die Eigenschaften eines Autos anzupassen, können Sie jetzt beliebige
                                                   Attribute und Methoden hinzufügen. Entweder stellen diese eine Erweiterung der Superklasse
                                                   dar oder überschreiben deren Eigenschaften. Hier ist eine mögliche Deklaration mit
                                                   Erweiterungen:
                                                </p>
                                                <div class="listing"><pre class="prettyprint">@interface Automobil : Fahrzeug {<br>    @private<br>    NSDate  *hauptUntersuchung;<br>    unsigned int anzahlTueren;<br>    double leistung;<br>}<br><br>#pragma mark Getter<br>-(NSDate *)hauptUntersuchung;<br>-(unsigned int)anzahlTueren;<br>-(double)leistung;<br><br>#pragma mark Setter<br>-(void)setHauptUntersuchung:(NSDate*)inDate;<br>-(void)setAnzahlTueren:(unsigned int)inTueren;<br>-(void)setLeistung:(double)inLeistung;<br><br>@end<br></pre></div>
                                                <p class="plistingunter"><strong>Listing 2.19   </strong>Die Schnittstelle der Klasse »Automobil«
                                                </p><br><div align="center"><a href="#top"><img src="common/jupiters.gif" border="0" alt="Galileo Computing - Zum Seitenanfang"></a></div><a id="dodtpae46f97c-a33c-4dd7-a01e-2041189ef40c" name="dodtpae46f97c-a33c-4dd7-a01e-2041189ef40c"></a><h3 class="t3"><span class="cfett">2.1.7</span><span class="cfett"> Kategorien</span><a href="#dodtp129bb2f8-ba1f-42a7-bd82-115b6a927ce4"><img src="common/down.gif" width="15" height="15" border="0" alt="Zur nächsten Überschrift"></a><a href="#dodtp7aef30a2-4169-4daf-96f7-7923ce0e492e"><img src="common/top.gif" width="15" height="15" border="0" alt="Zur vorigen Überschrift"></a></h3>
                                                <p>Eng mit der Vererbung verwandt sind Kategorien. Angenommen Sie möchten eine bestehende
                                                   Klasse um eine oder mehrere Methoden erweitern, die Ihnen die Arbeit mit dieser Klasse
                                                   erleichtert, dann können Sie eine Subklasse erzeugen und die neue Methode in der Subklasse
                                                   verwenden. Das wird ziemlich viel Arbeit, wenn die Klassenhierarchie tief geschachtelt
                                                   und vieles bereits implementiert ist. Außerdem ist es nicht immer möglich, eine Unterklasse
                                                   zu verwenden. Sie können ja die Klasse eines Objekts nicht austauschen.
                                                </p>
                                                <p>An dieser Stelle helfen Kategorien. Eine Kategorie ist die nachträgliche Definition
                                                   einer oder mehrerer Methoden zu einer beliebigen Klasse, ohne von dieser Klasse ableiten
                                                   zu müssen.
                                                </p>
                                                <p>Kategorien funktionieren nicht nur für eigene, sondern für alle Klassen und vererben
                                                   sich obendrein auch auf die Unterklassen der Klasse. Sie können beispielsweise mit
                                                   einer Kategorie der Klasse <span class="clisting">NSObject</span> neue Methoden hinzufügen, und alle Unterklassen erben diese neuen Methoden.
                                                </p>
                                                <p>Ein Beispiel für eine Kategorie ist eine zusätzliche Methode für die Klasse <span class="clisting">NSString</span>, die den gespeicherten String in der umgekehrten Reihenfolge ausgibt. Eine Kategorie
                                                   besitzt, wie eine Klasse, eine eigene Header- und Implementierungsdatei. Fügen Sie
                                                   daher eine neue Kategorie zu dem vorhandenen Xcode-Projekt hinzu, und geben Sie der
                                                   Kategorie den Namen »ReverseString«. Xcode hält für Kategorien eine eigene Vorlage,
                                                   <span class="cscreenelement">Objective-C category,</span> bereit (siehe Abbildung 2.15).
                                                </p><a href="bilder/02_015.png" rel="lightbox" title="Xcode besitzt ein Template für Kategorien."><img class="bild" border="1" src="bilderklein/klein02_015.png" alt="Abbildung"></a><p class="pbildunter"><strong>Abbildung 2.15   </strong>Xcode besitzt ein Template für Kategorien.
                                                </p>
                                                <p>Geben Sie nach deren Auswahl die Klasse <span class="clisting">NSString</span> an, auf der die Kategorie basieren soll. Als Kategorienamen verwenden Sie »ReverseString«
                                                   (siehe Abbildung 2.16).
                                                </p><a href="bilder/02_016.png" rel="lightbox" title="Name und Klasse der Kategorie"><img class="bild" border="1" src="bilderklein/klein02_016.png" alt="Abbildung"></a><p class="pbildunter"><strong>Abbildung 2.16   </strong>Name und Klasse der Kategorie
                                                </p>
                                                <p>Nach dem Hinzufügen der Kategorie mit dem Xcode-Wizard sieht die Headerdatei wie folgt
                                                   aus:
                                                </p>
                                                <div class="listing"><pre class="prettyprint">#import &lt;Foundation/Foundation.h&gt;<br><br>@interface NSString (ReverseString)<br><br>@end<br></pre></div>
                                                <p class="plistingunter"><strong>Listing 2.20   </strong>Headerdatei einer Kategorie
                                                </p>
                                                <p>Im Vergleich zu einem Klassen-Interface fehlen der Kategorie der Bezug auf die Superklasse
                                                   und der Block für die Attribute. Dafür steht der Name der Kategorie in Klammern hinter
                                                   dem Namen der zu erweiternden Klasse. Das gilt auch für die Implementierung:
                                                </p>
                                                <div class="listing"><pre class="prettyprint">#import "ReverseString.h"<br><br>@implementation NSString (ReverseString)<br><br>@end<br></pre></div>
                                                <p class="plistingunter"><strong>Listing 2.21   </strong>Implementierung der Kategorie
                                                </p>
                                                <p>Erweitern Sie die Deklaration um die Methode <span class="clisting">reverseString</span>:
                                                </p>
                                                <div class="listing"><pre class="prettyprint">@interface NSString (ReverseString)<br>-(NSString*)reverse;<br>@end<br></pre></div>
                                                <p class="plistingunter"><strong>Listing 2.22   </strong>Methodendeklaration in einer Kategorie
                                                </p>
                                                <p>Die Implementierung der Methode ist reine Fleißarbeit, da das Umdrehen von Strings
                                                   nicht zu den geistig anspruchsvollsten Arbeiten gehört:
                                                </p>
                                                <div class="listing"><pre class="prettyprint">-(NSString*)reverse{<br>    NSlog(@"[+] revert: %@", self);<br>    NSMutableString *theReverse = [NSMutableString stringWithCapacity:[inString length]];<br><br>    for(int i = [inString length]-1; i&gt;=0; i--){<br>        [theReverse appendFormat:@"%C", [inString characterAtIndex:i]];<br>    }<br>    NSlog (@"[+] the reverse: %@", theReverse);<br>    return theReverse;<br>}<br></pre></div>
                                                <p>Wenn Sie anschließend in der Datei <span class="cdateipfad">main.m</span> die Headerdatei der neuen Kategorie über <span class="clisting">#import "ReverseString.h"</span> importieren, können Sie die Methode <span class="clisting">reverseString</span> dort verwenden. Sie können das überprüfen, indem Sie in der <span class="clisting">main</span>-Funktion einen Aufruf von <span class="clisting">reverse</span> hinzufügen:
                                                </p>
                                                <div class="listing"><pre class="prettyprint">int main (int argc, const char * argv[]) {<br>    NSAutoreleasePool *pool = [[NSAutoreleasePool alloc] init];<br><br>    [@"Wortverdreher" reverse];<br>    ...<br>}<br></pre></div>
                                                <p class="plistingunter"><strong>Listing 2.23   </strong>Aufruf der Kategoriemethode »reverse«
                                                </p>
                                                <p>Beim nächsten Programmlauf zeigt die Konsole das erwartete Ergebnis an:</p>
                                                <div class="listing"><pre class="prettyprint">[+] revert: Wortverdreher<br>[+] the reverse: reherdrevtroW<br></pre></div>
                                                <p>Die Klasse <span class="clisting">NSString</span> verfügt jetzt über eine zusätzliche Methode, und das, ohne eine Subklasse ableiten
                                                   zu müssen. Einfacher geht&#8217;s nicht. Kategorien können zwar Methoden, aber keine Attribute
                                                   zu den Klassen hinzufügen.
                                                </p>
                                                <table width="100%" border="0" cellspacing="1" cellpadding="3">
                                                   <tbody>
                                                      
                                                      
                                                      <tr>
                                                         
                                                         
                                                         <td class="tabellenkopf"><span class="cfett">
                                                               
                                                               
                                                               
                                                               Verwenden Sie es sparsam!
                                                               
                                                               </span></td>
                                                         
                                                         
                                                      </tr>
                                                      
                                                      
                                                      <tr>
                                                         
                                                         
                                                         <td class="tabellentext">
                                                            <p>Sie können jetzt natürlich anfangen und alle möglichen Klassen mit Kategorien erweitern.
                                                               Dadurch verlieren Sie aber schnell die Übersicht über Ihre Methoden. Sofern es mehrere
                                                               Kategorien mit den gleichen Methoden zu einer Klasse gibt, ist außerdem nicht festgelegt,
                                                               welche dieser Methoden das Laufzeitsystem aufruft. Das kann zu unerwarteten Ergebnissen
                                                               führen.
                                                               
                                                               Sie können mit Kategorien auch die Methoden der Superklasse überschreiben. Das sollten
                                                               Sie aber nur machen, wenn die Klasse das nicht schon selber macht. Verwenden Sie Kategorien
                                                               daher gezielt und wohlüberlegt.
                                                               
                                                               
                                                            </p>
                                                         </td>
                                                         
                                                         
                                                      </tr>
                                                      
                                                      
                                                      
                                                      
                                                      
                                                      
                                                   </tbody>
                                                </table>
                                                <p>Mit der <span class="cbegriff">anonymen Kategorie</span><a class="indexterm" id="dodtp263b6019-545a-4444-9ae8-0fc8422c5676"></a> gibt es noch einen Sonderfall. Wie der Name schon andeutet, hat sie keinen Namen.
                                                   Stattdessen geben Sie bei der Deklaration nur ein leeres Klammerpaar an.
                                                </p>
                                                <div class="listing"><pre class="prettyprint">@interface Fahrzeug()<br>...<br>@end<br></pre></div>
                                                <p class="plistingunter"><strong>Listing 2.24   </strong>Deklaration einer anonymen Kategorie
                                                </p>
                                                <p>Die Implementierung ihrer Methoden erfolgt aber nicht in einem entsprechenden Implementierungsblock,
                                                   sondern bei der Implementierung der Methoden der Klasse. Auch anonyme Kategorien haben
                                                   den Zweck, ihre Klassen um Methoden zu erweitern. Im Gegensatz zu den anderen Kategorien
                                                   sollen deren Methoden aber nicht öffentlich zugänglich sein. Sie können über die anonyme
                                                   Kategorie also geschützte Methoden einer Klasse deklarieren. Aus diesem Grund erfolgt
                                                   ihre Deklaration auch in der Implementierungsdatei der Klasse. Sie können beispielsweise
                                                   die Klasse <span class="clisting">Fahrzeug</span> um eine Logging-Methode erweitern:
                                                </p>
                                                <div class="listing"><pre class="prettyprint">@interface Fahrzeug()<br>- (void)logWithSelector:(SEL)inSelector;<br>@end<br>@implementation Fahrzeug<br>...<br>- (int)geschwindigkeit {<br>    [self logWithSelector:_cmd];<br>    return geschwindigkeit;<br>}<br>- (void)logWithSelector:(SEL)inSelector {<br>    NSLog(@"%@[%@] %@", [self class], [self name], NSStringFromSelector(inSelector)];<br>}<br>@end<br></pre></div><br><div align="center"><a href="#top"><img src="common/jupiters.gif" border="0" alt="Galileo Computing - Zum Seitenanfang"></a></div><a id="dodtp129bb2f8-ba1f-42a7-bd82-115b6a927ce4" name="dodtp129bb2f8-ba1f-42a7-bd82-115b6a927ce4"></a><h3 class="t3"><span class="cfett">2.1.8</span><span class="cfett"> Protokolle</span><a href="#dodtpae46f97c-a33c-4dd7-a01e-2041189ef40c"><img src="common/top.gif" width="15" height="15" border="0" alt="Zur vorigen Überschrift"></a></h3>
                                                <p>Ein weiteres wichtiges Sprachmerkmal von Objective-C sind Protokolle. Protokolle bündeln
                                                   Methoden, die nicht zu einer bestimmten Klasse gehören. Damit lässt sich die vermeintliche
                                                   Beschränkung der fehlenden Mehrfachvererbung in Objective-C kompensieren. Um einer
                                                   Klasse mehr vordeklarierte Methoden als nur von einer Superklasse hinzuzufügen, kann
                                                   die Klasse über ein Protokoll weitere Methoden adaptieren. Protokolle bestehen im
                                                   Gegensatz zu Klassen und Kategorien aber immer nur aus einer Deklaration. Die Implementierung
                                                   erfolgt immer in den adaptierenden Klassen.
                                                </p>
                                                <p>Das Schlüsselwort <span class="clisting">@protocol</span> kennzeichnet eine Protokolldeklaration. Wenn Sie beispielsweise eine einheitliche
                                                   Methode zum Datenladen für Ihre Klassen haben möchten, können Sie das über ein Protokoll
                                                   beschreiben:
                                                </p>
                                                <div class="listing"><pre class="prettyprint">@protocol Loadable<br>@required<br>- (void)loadFromFile:(NSString *)inPath;<br>@optional<br>- (void)loadFromURL:(NSURL *)inURL;<br>@end<br></pre></div>
                                                <p class="plistingunter"><strong>Listing 2.25   </strong>Deklaration eines Protokolls
                                                </p>
                                                <p>Die Protokollmethoden können Sie als zwingend erforderlich (<span class="clisting">@required</span>) und optional (<span class="clisting">@optional</span>) deklarieren. Erforderliche Methoden muss jede adaptierende Klasse implementieren,
                                                   während Sie sich das bei optionalen Methoden aussuchen können. Jede Klasse, die das
                                                   Beispielprotokoll <span class="clisting">Loadable</span> adaptiert, muss also die Methode <span class="clisting">loadFromFile:</span> implementieren. Standardmäßig sind alle Protokollmethoden erforderlich.
                                                </p>
                                                <p>Sie können dann bei der Deklaration einer Klasse das Protokoll in spitzen Klammern
                                                   hinter der Oberklasse angeben:
                                                </p>
                                                <div class="listing"><pre class="prettyprint">#import "Loadable.h"<br>@interface Fahrzeug : NSObject&lt;Loadable&gt; {<br>    ...<br>}<br>...<br>@end<br></pre></div>
                                                <p class="plistingunter"><strong>Listing 2.26   </strong>Adaption eines Protokolls durch eine Klasse
                                                </p>
                                                <p>Sie können natürlich auch mehrere Protokolle in einer Klasse implementieren. In diesem
                                                   Fall trennen Sie die Namen der Protokolle in den spitzen Klammern einfach durch jeweils
                                                   ein Komma. Protokolle über Kategorien zu implementieren, ist auch möglich. Hierfür
                                                   platzieren Sie die spitzen Klammern einfach hinter den runden Klammern in der Kategoriedeklaration.
                                                </p>
                                                <div class="listing"><pre class="prettyprint">@interface Fahrzeug(Loading)&lt;Loadable&gt;<br>...<br>@end<br></pre></div>
                                                <p class="plistingunter"><strong>Listing 2.27   </strong>Adaption eines Protokolls über eine Kategorie
                                                </p>
                                                <p>Das funktioniert natürlich auch mit mehreren Protokollen und auch bei anonymen Kategorien.</p><br><hr><a name="kommentar"></a><h3>Ihr Kommentar</h3>
                                                <p>Wie hat Ihnen das &lt;openbook&gt; gefallen? Wir freuen uns immer über Ihre freundlichen
                                                   und kritischen Rückmeldungen.
                                                </p>
                                                <form action="http://www.galileo-press.de/feedback/openbook" method="post" style="text-align: center; margin-top: 10px;"><input type="hidden" name="openbookurl" value="http://www.galileocomputing.de/katalog/openbook/apps_02_001.html"><input type="hidden" name="buchtitel" value="Apps entwickeln für iPhone und iPad"><input type="hidden" name="Kapitel" value="2 Einstieg in die Praxis"><table border="0">
                                                      <tbody>
                                                         <tr>
                                                            <td><label for="name">Name</label><br></td>
                                                            <td><input type="text" name="name" id="name" size="40"><br></td>
                                                         </tr>
                                                         <tr>
                                                            <td><label for="email">E-Mail</label><br></td>
                                                            <td><input type="text" name="email" id="email" size="40"><br></td>
                                                         </tr>
                                                         <tr>
                                                            <td valign="top"><label for="comment">Ihr Kommentar</label><br></td>
                                                            <td><textarea name="comment" id="comment" rows="10" cols="40"></textarea><br></td>
                                                         </tr>
                                                         <tr>
                                                            <td></td>
                                                            <td><input type="submit" value="Kommentar absenden"></td>
                                                         </tr>
                                                      </tbody>
                                                   </table>
                                                </form>
                                             </div>
                                          </td>
                                       </tr>
                                    </tbody>
                                 </table>
                              </td>
                           </tr>
                           <tr>
                              <td width="100%" class="start" colspan="1" height="22" align="center">
                                 <table width="100%" border="0" cellspacing="0" cellpadding="0">
                                    <tbody>
                                       <tr>
                                          <td width="25%"><a href="apps_01_005.html" class="navnav"> &lt;&lt; zurück</a></td>
                                          <td width="49%">
                                             <div align="center"><a class="navnav" href="#">&lt;top&gt;</a></div>
                                          </td>
                                          <td align="right" width="25%">
                                             <div align="right"><a href="apps_02_002.html" class="navnav">vor &gt;&gt;
                                                   </a></div>
                                          </td>
                                       </tr>
                                    </tbody>
                                 </table>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
               </td>
               <td width="10" valign="top"></td>
               <td width="160" valign="top"><table border="0" cellpadding="0" cellspacing="0" width="160">
                  <tr>
                  <td>
                  <table border="0" cellpadding="0" cellspacing="0" width="100%">
                  <tr>
                  <td class="start" height="20" colspan="2">
                  &nbsp;<a href="http://www.galileocomputing.de/katalog/buecher/?GPP=opAppiP" class="autor">
                  <strong>Zum Katalog</strong></a>
                  
                  </td>
                  </tr>
                  <tr>
                  <td valign="top" class="tbl4" width="2">
                  <img src="common/leer.gif" border="0" height="1" width="1"></td>
                  <td valign="top">
                  <table cellspacing="3">
                  <tr>
                  <td><a href="http://www.galileo-press.de/3521?GPP=opAppiP">
                  <img src="common/2734.png" width="126" height="100" border="0" align="left"
                  hspace="4" vspace="8" alt="Zum Katalog: Neuauflage: Apps programmieren für iPhone und iPad">
                  <br><br><br><br><br><br><strong>Neuauflage: Apps programmieren für iPhone und iPad</strong><br><img
                  src="common/pfeil_rechts5.gif" border="0" alt="">Jetzt bestellen</a><br /><br />
                  </td>
                  </tr>
                  </table>
                  </td>
                  
                  </tr>
                  </table>
                  </td>
                  </tr>
                  <tr>
                  <td><img src="common/leer.gif" height="2" width="1" border="0" /></img></td>
                  </tr>
                  <tr>
                  <td>
                  <table border="0" cellpadding="0" cellspacing="0" width="100%">
                  <tr>
                  <td class="start" height="20" colspan="2"><span class="autor"><strong>&nbsp;Ihre Meinung?</strong></a></td>
                  </tr>
                  <tr>
                  <td valign="top" class="tbl4" width="2"><img src="common/leer.gif" border="0" height="1"
                  width="1"></td>
                  <td valign="top">
                  
                  <table cellspacing="3">
                  <tr>
                  <td>Wie hat Ihnen das &lt;openbook&gt; gefallen?<br><a href="#kommentar"><img src="common/pfeil_rechts5.gif"
                  border="0" alt="">Ihre Meinung</a>
                  <br><br></td>
                  </tr>
                  </table>
                  </td>
                  </tr>
                  </table>
                  </td>
                  </tr>
                  <tr>
                  
                  <td><img src="common/leer.gif" height="2" width="1" border="0" /></img></td>
                  </tr>
                  <tr>
                  <td>
                  </td>
                  </tr>
                  
                  <tr>
                  <td><img src="common/leer.gif" height="2" width="1" border="0" /></img></td>
                  </tr>
                  <tr>
                  <td>
                  <table border="0" cellpadding="0" cellspacing="0" width="100%">
                  <tr>
                  <td class="start" height="20" colspan="2">&nbsp;<a href="http://www.galileocomputing.de/katalog/buecher/?GPP=opAppiP"
                  class="autor"><strong>Buchempfehlungen</strong></a></td>
                  </tr>
                  <tr>
                  <td valign="top" class="tbl4" width="2"><img src="common/leer.gif" border="0" height="1"
                  width="1"></td><td valign="top">
                  <a href="http://www.galileocomputing.de/2448?GPP=opAppiP">
                  <img src="common/1658.png" width="114" height="100" border="0" align="left" hspace="4"
                  vspace="8" alt="Objective-C 2.0 & Cocoa"><br><br><br><br><br><br>&nbsp;Objective-C
                  2.0<br>&nbsp;Cocoa</a><br><br></td>
                  </tr>
                  
                  <tr>
                  <td valign="top" class="tbl4" width="2"><img src="common/leer.gif" border="0" height="1"
                  width="1"></td><td valign="top">
                  <a href="http://www.galileocomputing.de/2663?GPP=opAppiP">
                  <img src="common/1791.png" width="126" height="100" border="0" align="left" hspace="4"
                  vspace="8" alt="Zum Katalog: Mac OS X Lion"><br><br><br><br><br><br><br>&nbsp;Mac
                  OS X Lion</a><br><br></td>
                  </tr>
                  <tr>
                  <td valign="top" class="tbl4" width="2"><img src="common/leer.gif" border="0" height="1"
                  width="1"></td><td valign="top">
                  <a href="http://www.galileocomputing.de/2664?GPP=opAppiP">
                  <img src="common/1792.png" width="122" height="100" border="0" align="left" hspace="4"
                  vspace="8" alt="Zum Katalog: Mac OS X und UNIX"><br><br><br><br><br><br><br>&nbsp;Mac
                  OS X<br>&nbsp;und UNIX</a><br><br></td>
                  </tr>
                  <tr>
                  <td valign="top" class="tbl4" width="2"><img src="common/leer.gif" border="0" height="1"
                  width="1"></td><td valign="top">
                  <a href="http://www.galileocomputing.de/2516?GPP=opAppiP">
                  <img src="common/1697.png" width="122" height="100" border="0" align="left" hspace="4"
                  vspace="8" alt="Zum Katalog: Android 3"><br><br><br><br><br><br><br>&nbsp;Android
                  3</a><br><br></td>
                  </tr>
                  <tr>
                  <td valign="top" class="tbl4" width="2"><img src="common/leer.gif" border="0" height="1"
                  width="1"></td><td valign="top">
                  <a href="http://www.galileocomputing.de/2672?GPP=opAppiP">
                  <img src="common/1802.png" width="116" height="100" border="0" align="left" hspace="4"
                  vspace="8" alt="Zum Katalog: Java ist auch eine Insel"><br><br><br><br><br><br><br>&nbsp;Java
                  ist auch<br>&nbsp;eine Insel</a><br><br></td>
                  </tr>
                  <tr>
                  <td valign="top" class="tbl4" width="2"><img src="common/leer.gif" border="0" height="1"
                  width="1"></td><td valign="top">
                  <a href="http://www.galileocomputing.de/2556?GPP=opAppiP">
                  <img src="common/1725.png" width="124" height="100" border="0" align="left" hspace="4"
                  vspace="8" alt="Zum Katalog: CSS"><br><br><br><br><br><br><br>&nbsp;CSS</a><br><br></td>
                  </tr>
                  <tr>
                  <td valign="top" class="tbl4" width="2"><img src="common/leer.gif" border="0" height="1"
                  width="1"></td><td valign="top">
                  <a href="http://www.galileocomputing.de/2930?GPP=opAppiP">
                  <img src="common/1810.png" width="124" height="100" border="0" align="left" hspace="4"
                  vspace="8" alt="Zum Katalog: jQuery"><br><br><br><br><br><br><br>&nbsp;jQuery</a><br><br></td>
                  </tr>
                  </table></td>
                  </tr>
                  <tr>
                  <td><img src="common/leer.gif" height="2" width="1" border="0" /></img></td>
                  </tr>
                  
                  <tr>
                  <td>
                  <table border="0" cellpadding="0" cellspacing="0" width="100%">
                  <tr>
                  <td class="start" height="20" colspan="2"><span class="autor"><strong>&nbsp;Shopping</strong></span></td>
                  </tr>
                  <tr>
                  <td valign="top" class="tbl4" width="2"><img src="common/leer.gif" border="0" height="1"
                  width="1"></td>
                  <td valign="top">
                  <table cellspacing="3">
                  <tr>
                  <td><b>Versandkostenfrei</b> bestellen in Deutschland und &Ouml;sterreich<br><a href="http://www.galileocomputing.de/hilfe/Shop/?GPP=opAppiP"><img
                  src="common/pfeil_rechts5.gif" border="0" alt="Info">Info</a><br><br></td>
                  
                  </tr>
                  </table>
                  </td>
                  </tr>
                  </table>
                  </td>
                  </tr>
                  </table>
                  </td>
                  </tr>
                  </table>
                  <br><br><hr width="70%" align="center">
                  <div align="center">
                  <p class="standard"><strong>Copyright © Galileo Press 2011</strong><br>
                  Für Ihren privaten Gebrauch dürfen Sie die Online-Version natürlich ausdrucken.
                  Ansonsten unterliegt das &lt;openbook&gt; denselben Bestimmungen, wie die
                  gebundene Ausgabe: Das Werk einschließlich aller seiner Teile ist urheberrechtlich
                  geschützt. Alle Rechte vorbehalten einschließlich der Vervielfältigung, Übersetzung,
                  Mikroverfilmung sowie Einspeicherung und Verarbeitung in elektronischen Systemen.</p><br><a
                  href="http://www.galileocomputing.de/?GPP=opAppiP">[Galileo Computing]</a><br><br>
                  Galileo Press, Rheinwerkallee 4, 53227 Bonn, Tel.: 0228.42150.0, Fax 0228.42150.77,
                  <a href="mailto:info@galileo-press.de">info@galileo-press.de</a></div><br><br>
               </td>
            </tr>
         </tbody>
      </table>
   </body>
</html>