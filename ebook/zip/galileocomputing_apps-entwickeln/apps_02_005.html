<html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
      <meta name="title" content="Galileo Computing :: Apps entwickeln für iPhone und iPad - 2 Einstieg in die Praxis">
      <meta name="author" content="Klaus M. Rodewig, Clemens Wagner">
      <meta name="publisher" content="Galileo Press 2011">
      <meta name="copyright" content="Galileo Press 2011">
      <meta name="Desription" content="Apps entwickeln für iPhone und iPad - Das Praxisbuch - 2 Einstieg in die Praxis">
      <meta name="robots" content="INDEX,FOLLOW">
      <meta http-equiv="content-language" content="de">
      <title>Galileo Computing :: Apps entwickeln für iPhone und iPad - 2 Einstieg in die Praxis</title>
      <link rel="stylesheet" type="text/css" href="common/galileo_open.css">
      <link rel="stylesheet" type="text/css" href="common/prettify.css">
      <link rel="stylesheet" type="text/css" media="screen" href="common/css/lightbox.css">
      &nbsp; &nbsp; &nbsp;                  <script type="text/javascript" src="common/js/prototype.js"></script>
      &nbsp; &nbsp; &nbsp;                  <script src="common/js/scriptaculous.js?load=effects,builder"></script>
      &nbsp; &nbsp; &nbsp;                  <script type="text/javascript" src="common/js/lightbox.js"></script><link rel="prev" href="apps_02_004.html">
      <link rel="next" href="apps_03_001.html"><script type="text/javascript" src="common/prettify.js"></script><script type="text/javascript" src="common/openwin.js"></script></head>
   <body vlink="#000099" link="#000099" alink="#000099" onload="prettyPrint()">
      <table width="100%" border="0" cellpadding="0" cellspacing="0" bgcolor="#000066">
         <tr>
            <td height="74" valign="bottom" colspan="2"><a href="http://www.galileocomputing.de/katalog/openbook/?GPP=opAppiP"><img src="common/galileocomputing_openbook.gif" width="200" height="56" border="0" alt="Galileo Computing < openbook &gt;" title="Galileo Computing < openbook &gt;"></a></td>
            <td width="80" height="74"><a href="http://www.galileocomputing.de/?GPP=opAppiP"><img src="common/galileocomputing.gif" border="0" alt="Galileo Computing - Professionelle Bücher. Auch für Einsteiger." title="Galileo Computing - Professionelle Bücher. Auch für Einsteiger."></a></td>
         </tr>
      </table>
      <div align="right"><a href="http://www.galileocomputing.de/?GPP=opAppiP" class="navnav">Professionelle Bücher. Auch für Einsteiger.</a></div><br><table class="tbl" border="0" cellpadding="0" cellspacing="0" width="100%">
         <tbody>
            <tr>
               <td width="190" valign="top">
                  <table class="tbl1" border="0" cellpadding="3" cellspacing="0" width="190" align="left">
                     <tbody>
                        <tr>
                           <td class="tbl2"><a class="nav" href="index.html">Inhaltsverzeichnis</a></td>
                        </tr>
                        <tr>
                           <td><a class="navnav" href="apps_00_widmung_001.html#"></a></td>
                        </tr>
                        <tr>
                           <td><a class="navnav" href="apps_00_geleitwort_001.html#dodtpfad62f21-21f9-4eae-9038-c462dc2de850">Geleitwort des Gutachters</a></td>
                        </tr>
                        <tr>
                           <td><a class="navnav" href="apps_00_vorwort_001.html#dodtp134aa4f5-3ea1-4d2b-90ec-625e9ad04995">Vorwort</a></td>
                        </tr>
                        <tr>
                           <td><a class="navnav" href="apps_01_001.html#dodtp06116df0-71a6-4127-9c90-87cc60beb89d">1 Einführung</a></td>
                        </tr>
                        <tr>
                           <td><a class="navh" href="#dodtp13428fe8-22e7-48ed-b301-c766518dcaac">2 Einstieg in die Praxis</a></td>
                        </tr>
                        <tr>
                           <td><a class="navnav" href="apps_03_001.html#dodtpd90d1a51-f4d6-4634-a164-a45ebd6f9dff">3 Aufwachen &#8211; analoger Wecker</a></td>
                        </tr>
                        <tr>
                           <td><a class="navnav" href="apps_04_001.html#dodtpa5a111c6-3a92-4be9-aa3a-ed64f8951ac6">4 Daten, Tabellen und Controller</a></td>
                        </tr>
                        <tr>
                           <td><a class="navnav" href="apps_05_001.html#dodtpa5dbcb97-8e52-44af-b2a1-d51145cf8406">5 Animationen und Layer</a></td>
                        </tr>
                        <tr>
                           <td><a class="navnav" href="apps_06_001.html#dodtp610fd647-93cb-4bff-b94e-30d1cceb28fc">6 Programmieren, aber sicher</a></td>
                        </tr>
                        <tr>
                           <td><a class="navnav" href="apps_07_001.html#dodtp35da27e0-4c50-417c-a28d-f5907117d740">7 Jahrmarkt der Nützlichkeiten</a></td>
                        </tr>
                        <tr>
                           <td><a class="navnav" href="apps_anhang_a_dvd-inhalt_001.html#dodtp71232b80-1f13-4c5a-88ac-de2264b674f7">A Die Buch-DVD</a></td>
                        </tr>
                        <tr>
                           <td><a class="navnav" href="stichwort.html">Stichwort</a></td>
                        </tr>
                        <tr>
                           <td><br><a href="http://download2.galileo-press.de/openbook/galileocomputing_apps-entwickeln.zip" class="navnav"><strong>Download:</strong><br>- ZIP, ca. 23,6 MB</a></td>
                        </tr>
                        <tr>
                           <td><a href="http://www.galileo-press.de/3521?GPP=opAppiP" class="navnav">Buch bestellen</a></td>
                        </tr>
                        <tr>
                           <td><a class="navnav" href="#kommentar">Ihre Meinung?</a><br><br></td>
                        </tr>
                     </tbody>
                  </table>
               </td>
               <td width="10"><img src="common/spacer10.gif" width="10" height="10" alt="Spacer"></td>
               <td width="85%" valign="top">
                  <div align="center">
                     <table width="98%" border="0" cellpadding="0" cellspacing="0" bgcolor="#FFFFFF">
                        <tbody>
                           <tr>
                              <td width="100%" class="start" colspan="1" height="22" align="center">
                                 <table width="100%" border="0" cellspacing="0" cellpadding="0">
                                    <tbody>
                                       <tr>
                                          <td width="25%">
                                             <div align="left"><a href="apps_02_004.html" class="navnav"> &lt;&lt; zurück</a></div>
                                          </td>
                                          <td width="49%">
                                             <div align="center"><a href="http://www.galileocomputing.de/?GPP=opAppiP" class="navnav">Galileo Computing</a> / <a href="http://www.galileocomputing.de/katalog/openbook/?GPP=opAppiP" class="navnav">
                                                   &lt;openbook&gt;</a> / <a href="index.html" class="navnav">Apps entwickeln für iPhone und iPad</a></div>
                                          </td>
                                          <td width="25%">
                                             <div align="right"><a href="apps_03_001.html" class="navnav">vor &gt;&gt; </a></div>
                                          </td>
                                       </tr>
                                    </tbody>
                                 </table>
                              </td>
                           </tr>
                           <tr>
                              <td width="100%" valign="top">
                                 <table width="100%" border="0" cellpadding="10" cellspacing="0" class="box">
                                    <tbody>
                                       <tr>
                                          <td colspan="2"><a href="http://www.galileocomputing.de/?GPP=opAppiP" class="buchtitel">Apps entwickeln für iPhone und iPad</a><span class="autor"> von Klaus M. Rodewig, Clemens Wagner</span><br><span class="untertitel">Das Praxisbuch</span></td>
                                       </tr>
                                       <tr>
                                          <td valign="top" width="211">
                                             <dl>
                                                <dt><a href="http://www.galileo-press.de/3521?GPP=opAppiP" class="navnav"><img src="common/9783836214636.jpg" border="0" alt="Buch: Apps entwickeln für iPhone und iPad" title="Buch: Apps entwickeln für iPhone und iPad"></a></dt>
                                                <dd><br><a href="http://www.galileo-press.de/3521?GPP=opAppiP"><span class="autor"><strong>Apps entwickeln für iPhone und iPad</strong><br><pressinfo>geb., mit DVD<br>515 S., 49,90 Euro<br>Galileo Computing<br>ISBN 978-3-8362-1463-6
                                                         <br><br>Die <strong>Neuauflage</strong> des Buches erhalten Sie in unserem Online-Shop - <em>versandkostenfrei</em> innerhalb Deutschlands und Österreichs.<br><a class="navnav" href="http://www.galileo-press.de/3521?GPP=opAppiP"><img src="common/pfeil_rechts5.gif" alt="" border="0">Zum Online-Shop</a></span></span></a></dd>
                                             </dl>
                                          </td>
                                          <td width="80%">
                                             <table border="0">
                                                <tbody>
                                                   <tr>
                                                      <td valign="baseline"><img src="common/pfeil_u.gif" width="10" height="10" border="0" alt="Pfeil"></td>
                                                      <td valign="baseline" colspan="3" class="kap"><strong><a href="apps_02_001.html#dodtp13428fe8-22e7-48ed-b301-c766518dcaac" class="navnav">2 Einstieg in die Praxis</a></strong></td>
                                                   </tr>
                                                   <tr>
                                                      <td valign="baseline" width="10"></td>
                                                      <td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
                                                      <td valign="baseline" colspan="2"><strong><a href="apps_02_001.html#dodtped75ea14-fc08-4a34-9657-db0632a81398" class="navnav">2.1 Hefte raus, Klassenarbeit! &#8211; Die Arbeit mit Klassen</a></strong></td>
                                                   </tr>
                                                   <tr>
                                                      <td valign="baseline" width="10"></td>
                                                      <td valign="baseline" width="10"></td>
                                                      <td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
                                                      <td valign="baseline"><strong><a href="apps_02_001.html#dodtpb1d5c7f6-cabf-451d-b64e-a8c10e3e6a1f" class="navnav">2.1.1 Objekte erzeugen: alloc und init</a></strong></td>
                                                   </tr>
                                                   <tr>
                                                      <td valign="baseline" width="10"></td>
                                                      <td valign="baseline" width="10"></td>
                                                      <td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
                                                      <td valign="baseline"><strong><a href="apps_02_001.html#dodtp440339c2-87fc-4c90-8ed3-a4b9cfcb79f8" class="navnav">2.1.2 Objekte löschen: release und dealloc</a></strong></td>
                                                   </tr>
                                                   <tr>
                                                      <td valign="baseline" width="10"></td>
                                                      <td valign="baseline" width="10"></td>
                                                      <td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
                                                      <td valign="baseline"><strong><a href="apps_02_001.html#dodtped2fad0b-b7d9-4cb2-a242-690d12e31f03" class="navnav">2.1.3 Initializer</a></strong></td>
                                                   </tr>
                                                   <tr>
                                                      <td valign="baseline" width="10"></td>
                                                      <td valign="baseline" width="10"></td>
                                                      <td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
                                                      <td valign="baseline"><strong><a href="apps_02_001.html#dodtpc2b45df8-e753-4293-8809-922175e842c5" class="navnav">2.1.4 Accessoren</a></strong></td>
                                                   </tr>
                                                   <tr>
                                                      <td valign="baseline" width="10"></td>
                                                      <td valign="baseline" width="10"></td>
                                                      <td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
                                                      <td valign="baseline"><strong><a href="apps_02_001.html#dodtp2bd8202a-415e-4a11-a4a9-3efc656775a2" class="navnav">2.1.5 Eigene Methoden</a></strong></td>
                                                   </tr>
                                                   <tr>
                                                      <td valign="baseline" width="10"></td>
                                                      <td valign="baseline" width="10"></td>
                                                      <td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
                                                      <td valign="baseline"><strong><a href="apps_02_001.html#dodtp7aef30a2-4169-4daf-96f7-7923ce0e492e" class="navnav">2.1.6 Vererbung</a></strong></td>
                                                   </tr>
                                                   <tr>
                                                      <td valign="baseline" width="10"></td>
                                                      <td valign="baseline" width="10"></td>
                                                      <td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
                                                      <td valign="baseline"><strong><a href="apps_02_001.html#dodtpae46f97c-a33c-4dd7-a01e-2041189ef40c" class="navnav">2.1.7 Kategorien</a></strong></td>
                                                   </tr>
                                                   <tr>
                                                      <td valign="baseline" width="10"></td>
                                                      <td valign="baseline" width="10"></td>
                                                      <td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
                                                      <td valign="baseline"><strong><a href="apps_02_001.html#dodtp129bb2f8-ba1f-42a7-bd82-115b6a927ce4" class="navnav">2.1.8 Protokolle</a></strong></td>
                                                   </tr>
                                                   <tr>
                                                      <td valign="baseline" width="10"></td>
                                                      <td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
                                                      <td valign="baseline" colspan="2"><strong><a href="apps_02_002.html#dodtp9b077c40-2985-4c71-809c-9dde31a9f2e4" class="navnav">2.2 Das erste iOS-Projekt</a></strong></td>
                                                   </tr>
                                                   <tr>
                                                      <td valign="baseline" width="10"></td>
                                                      <td valign="baseline" width="10"></td>
                                                      <td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
                                                      <td valign="baseline"><strong><a href="apps_02_002.html#dodtp1339c9ec-3130-4037-9f4d-fe34f54f1010" class="navnav">2.2.1 Der Interface Builder</a></strong></td>
                                                   </tr>
                                                   <tr>
                                                      <td valign="baseline" width="10"></td>
                                                      <td valign="baseline" width="10"></td>
                                                      <td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
                                                      <td valign="baseline"><strong><a href="apps_02_002.html#dodtp356db151-6330-45e4-84a4-710c424eaa27" class="navnav">2.2.2 Delegation</a></strong></td>
                                                   </tr>
                                                   <tr>
                                                      <td valign="baseline" width="10"></td>
                                                      <td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
                                                      <td valign="baseline" colspan="2"><strong><a href="apps_02_003.html#dodtp4c79cb99-26ac-44b0-9f33-a390c774a6fa" class="navnav">2.3 Model, View und Controller</a></strong></td>
                                                   </tr>
                                                   <tr>
                                                      <td valign="baseline" width="10"></td>
                                                      <td valign="baseline" width="10"></td>
                                                      <td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
                                                      <td valign="baseline"><strong><a href="apps_02_003.html#dodtpba8e43bd-a70a-4113-b754-b3ce4b61fa51" class="navnav">2.3.1 Der Aufbau des Musters</a></strong></td>
                                                   </tr>
                                                   <tr>
                                                      <td valign="baseline" width="10"></td>
                                                      <td valign="baseline" width="10"></td>
                                                      <td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
                                                      <td valign="baseline"><strong><a href="apps_02_003.html#dodtp3f1bdc6f-67be-4d72-a217-129a8dd312ea" class="navnav">2.3.2 Key-Value-Observing</a></strong></td>
                                                   </tr>
                                                   <tr>
                                                      <td valign="baseline" width="10"></td>
                                                      <td valign="baseline" width="10"></td>
                                                      <td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
                                                      <td valign="baseline"><strong><a href="apps_02_003.html#dodtp884d5686-c50a-47f8-94bd-53e7c815e1c0" class="navnav">2.3.3 Target-Action-Mechanismus</a></strong></td>
                                                   </tr>
                                                   <tr>
                                                      <td valign="baseline" width="10"></td>
                                                      <td valign="baseline" width="10"></td>
                                                      <td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
                                                      <td valign="baseline"><strong><a href="apps_02_003.html#dodtpf69e0a08-3029-46de-890d-77cce56f0340" class="navnav">2.3.4 Controller in Cocoa Touch</a></strong></td>
                                                   </tr>
                                                   <tr>
                                                      <td valign="baseline" width="10"></td>
                                                      <td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
                                                      <td valign="baseline" colspan="2"><strong><a href="apps_02_004.html#dodtpa0b0efff-7e68-4bd4-819b-2bebfce1212a" class="navnav">2.4 Speicherverwaltung, Propertys und Key-Value-Coding</a></strong></td>
                                                   </tr>
                                                   <tr>
                                                      <td valign="baseline" width="10"></td>
                                                      <td valign="baseline" width="10"></td>
                                                      <td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
                                                      <td valign="baseline"><strong><a href="apps_02_004.html#dodtpc75b9685-f6be-4662-8b97-f3a1b93b587c" class="navnav">2.4.1 Referenzenzählen in Objective-C</a></strong></td>
                                                   </tr>
                                                   <tr>
                                                      <td valign="baseline" width="10"></td>
                                                      <td valign="baseline" width="10"></td>
                                                      <td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
                                                      <td valign="baseline"><strong><a href="apps_02_004.html#dodtp78f76194-21ad-4efc-947c-56ff1c242317" class="navnav">2.4.2 Die Speicherverwaltungsregeln</a></strong></td>
                                                   </tr>
                                                   <tr>
                                                      <td valign="baseline" width="10"></td>
                                                      <td valign="baseline" width="10"></td>
                                                      <td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
                                                      <td valign="baseline"><strong><a href="apps_02_004.html#dodtp8b7dbd94-96b3-4453-acf8-914ceff40ab9" class="navnav">2.4.3 Propertys</a></strong></td>
                                                   </tr>
                                                   <tr>
                                                      <td valign="baseline" width="10"></td>
                                                      <td valign="baseline" width="10"></td>
                                                      <td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
                                                      <td valign="baseline"><strong><a href="apps_02_004.html#dodtp75774d59-a1be-40f7-9b7a-b7c5ba46ef2f" class="navnav">2.4.4 Key-Value-Coding</a></strong></td>
                                                   </tr>
                                                   <tr>
                                                      <td valign="baseline" width="10"></td>
                                                      <td valign="baseline" width="10"></td>
                                                      <td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
                                                      <td valign="baseline"><strong><a href="apps_02_004.html#dodtp2d8117fe-1a84-487f-9061-2f9c8cb3e759" class="navnav">2.4.5 Abschließende Bemerkungen</a></strong></td>
                                                   </tr>
                                                   <tr>
                                                      <td valign="baseline" width="10"></td>
                                                      <td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
                                                      <td valign="baseline" colspan="2"><strong><a href="apps_02_005.html#dodtp083c83ee-5485-4fea-b656-debaaed8d52b" class="navh">2.5 Automatisches Referenzenzählen</a></strong></td>
                                                   </tr>
                                                   <tr>
                                                      <td valign="baseline" width="10"></td>
                                                      <td valign="baseline" width="10"></td>
                                                      <td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
                                                      <td valign="baseline"><strong><a href="apps_02_005.html#dodtp27b47c98-db0e-459e-a79f-6da5cef1f022" class="navh">2.5.1 Zurück in die Zukunft</a></strong></td>
                                                   </tr>
                                                   <tr>
                                                      <td valign="baseline" width="10"></td>
                                                      <td valign="baseline" width="10"></td>
                                                      <td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
                                                      <td valign="baseline"><strong><a href="apps_02_005.html#dodtpc60bacc5-4355-4fde-868d-09e65d0c0464" class="navh">2.5.2 Weakie und die starken Zeiger</a></strong></td>
                                                   </tr>
                                                   <tr>
                                                      <td valign="baseline" width="10"></td>
                                                      <td valign="baseline" width="10"></td>
                                                      <td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
                                                      <td valign="baseline"><strong><a href="apps_02_005.html#dodtpc7187bdd-6422-4c4f-92d2-c60983032cf5" class="navh">2.5.3 Autoreleasepools</a></strong></td>
                                                   </tr>
                                                   <tr>
                                                      <td valign="baseline" width="10"></td>
                                                      <td valign="baseline" width="10"></td>
                                                      <td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
                                                      <td valign="baseline"><strong><a href="apps_02_005.html#dodtpc3f7f51c-8baf-4d66-bb0e-867db1b7e3d9" class="navh">2.5.4 Einzelgänger</a></strong></td>
                                                   </tr>
                                                   <tr>
                                                      <td valign="baseline" width="10"></td>
                                                      <td valign="baseline" width="10"></td>
                                                      <td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
                                                      <td valign="baseline"><strong><a href="apps_02_005.html#dodtpf9322b94-745f-40e9-ae55-6d7fb708ef8f" class="navh">2.5.5 Migration bestehender Projekte</a></strong></td>
                                                   </tr>
                                                </tbody>
                                             </table>
                                          </td>
                                       </tr>
                                    </tbody>
                                 </table>
                                 <table width="100%" cellpadding="20" cellspacing="0" border="0" bgcolor="#eeeeee">
                                    <tbody>
                                       <tr>
                                          <td>
                                             <div class="main"><br><div align="center"><a href="#top"><img src="common/jupiters.gif" border="0" alt="Galileo Computing - Zum Seitenanfang"></a></div><a id="dodtp083c83ee-5485-4fea-b656-debaaed8d52b" name="dodtp083c83ee-5485-4fea-b656-debaaed8d52b"></a><h2 class="t2"><span class="cfett">2.5</span><span class="cfett"> Automatisches Referenzenzählen</span><a href="#dodtp27b47c98-db0e-459e-a79f-6da5cef1f022"><img src="common/down.gif" width="15" height="15" border="0" alt="Zur nächsten Überschrift"></a></h2>
                                                <p>Die LLVM-Compiler ab Version 3.0 stellen mit dem <span class="cbegriff">Automatic Reference Counting</span><a class="indexterm" id="dodtp03d60b85-fcc1-489c-b196-fecd43e09c7a"></a> (ARC<a class="indexterm" id="dodtp535bd0d8-a214-4fab-b988-c32a27f8e773"></a>) eine Erweiterung des bestehenden Speicherverwaltungssystems zur Verfügung. Auch
                                                   wenn es erst mit Xcode 4.2 und iOS 5 zum Standardumfang des SDKs gehört, soll es laut
                                                   Aussage von Apple bereits unter iOS 4.0 bei Benutzung geeigneter Compiler funktionieren.
                                                   Das Automatic Reference Counting ist keine Erweiterung des Laufzeitsystems, sondern
                                                   eine reine Compilererweiterung.
                                                </p>
                                                <p>Die Idee, die dahinter steht, ist einfach, aber brillant. Die Speicherverwaltungsregeln
                                                   sind einfach und maschinell überprüfbar. Mit dem <span class="cbegriff">Analyzer</span><a class="indexterm" id="dodtp40b24f99-d72a-474d-9e5b-3fed04a214ac"></a> (siehe Kapitel 3) steht Ihnen sogar ein Tool zur Verfügung, mit dem Sie eine Menge
                                                   Speicherverwaltungsfehler automatisiert entdecken können. Die Idee von ARC ist, die
                                                   Verfahren des Analyzers zu verwenden, um die Speicherverwaltungsanweisungen mit der
                                                   Übersetzung automatisch in den Code einzufügen.
                                                </p>
                                                <p>Laut Apple sorgt der Compiler mit ARC aber nicht nur für eine korrekte Speicherverwaltung,
                                                   sondern auch für fulminant schnelleren Code.
                                                </p>
                                                <table width="100%" border="0" cellspacing="1" cellpadding="3">
                                                   <tbody>
                                                      
                                                      
                                                      <tr>
                                                         
                                                         
                                                         <td class="tabellenkopf"><span class="cfett">
                                                               
                                                               
                                                               
                                                               War alles umsonst?
                                                               
                                                               </span></td>
                                                         
                                                         
                                                      </tr>
                                                      
                                                      
                                                      <tr>
                                                         
                                                         
                                                         <td class="tabellentext">
                                                            <p>Sie haben mit dem <span class="cbegriff">Automatic Reference Counting</span> eine starke Vereinfachung in der Speicherverwaltung, die Ihnen die Programmierung
                                                               erheblich erleichert. Es ist aber keine neue Speicherverwaltung, da der Compiler Ihren
                                                               Code um die notwendigen Speicherverwaltungsanweisungen erweitert. Für eine sinnvolle
                                                               Verwendung der ARC-Erweiterung ist also das Verständnis der Speicherverwaltung nach
                                                               wie vor unerlässlich.
                                                               
                                                               
                                                            </p>
                                                         </td>
                                                         
                                                         
                                                      </tr>
                                                      
                                                      
                                                   </tbody>
                                                </table><br><div align="center"><a href="#top"><img src="common/jupiters.gif" border="0" alt="Galileo Computing - Zum Seitenanfang"></a></div><a id="dodtp27b47c98-db0e-459e-a79f-6da5cef1f022" name="dodtp27b47c98-db0e-459e-a79f-6da5cef1f022"></a><h3 class="t3"><span class="cfett">2.5.1</span><span class="cfett"> Zurück in die Zukunft</span><a href="#dodtpc60bacc5-4355-4fde-868d-09e65d0c0464"><img src="common/down.gif" width="15" height="15" border="0" alt="Zur nächsten Überschrift"></a><a href="#dodtp083c83ee-5485-4fea-b656-debaaed8d52b"><img src="common/top.gif" width="15" height="15" border="0" alt="Zur vorigen Überschrift"></a></h3>
                                                <p>Wie bereits erwähnt, analysiert beim automatischen Referenzenzählen der Compiler den
                                                   Programmcode und ergänzt ihn um die notwendigen Anweisungen, damit bei der Ausführung
                                                   des Programms weder Speicherlecks noch Dangling Pointer entstehen. Da ja mehrere Köche
                                                   bekanntlich den Brei verderben, bedeutet das im Umkehrschluss für Sie, dass Sie aber
                                                   auch Ihre Finger von der Speicherverwaltung zu lassen haben. Sie dürfen die Methoden
                                                   <span class="clisting">retain</span>, <span class="clisting">release</span> und <span class="clisting">autorelease</span> weder aufrufen noch in Ihren Klassen überschreiben. Außerdem ist das Anlegen und
                                                   Verwenden von Objekten der Klasse <span class="clisting">NSAutoreleasePool</span> strengstens untersagt. Zuwiderhandlungen werden mit Übersetzungsfehlern geahndet.
                                                </p>
                                                <p>Eine ARC-konforme Methode könnte also so aussehen:</p>
                                                <div class="listing"><pre class="prettyprint">- (NSString *)newName {<br>    return [NSString stringWithFormat:@"%@ %@", self.firstName, self.lastName];<br>}<br></pre></div>
                                                <p>Der ARC-Compiler bemerkt den Verstoß gegen die erste Speicherverwaltungsregel und
                                                   korrigiert den Code während der Übersetzung, indem er ein <span class="clisting">retain</span> einfügt:
                                                </p>
                                                <div class="listing"><pre class="prettyprint">- (NSString *)newName {<br>    return<span class="cfett"> [</span>[NSString stringWithFormat:@"%@ %@", self.firstName, self.lastName]<span class="cfett"> retain]</span>;<br>}<br></pre></div>
                                                <p>Bei Methoden, deren Name nicht auf die erste Speicherverwaltungsregel passt, sieht
                                                   die Korrektur etwas komplizierter aus. Aus
                                                </p>
                                                <div class="listing"><pre class="prettyprint">- (NSNumber *)age {<br>    return age;<br>}<br></pre></div>
                                                <p>erzeugt der ARC-Compiler (Änderungen hervorgehoben):</p>
                                                <div class="listing"><pre class="prettyprint">- (NSString *)age {<br>   <span class="cfett"> NSNumber *theAge = [</span>age<span class="cfett"> retain];</span><br>    return<span class="cfett"> [theAge autorelease]</span>;<br>}<br></pre></div>
                                                <p>Der Compiler sendet hier also ein <span class="clisting">retain</span> an den Ergebniswert nach dessen Erzeugung &#8211; und beim Verlassen der Methode ein <span class="clisting">autorelease</span>. Der Compiler verhält sich hier also wie ein synthetischer Getter einer atomaren
                                                   Property.
                                                </p>
                                                <p>Der ARC-Compiler achtet natürlich auch bei Methodenaufrufen auf die richtige Speicherverwaltung.
                                                   Er wandelt
                                                </p>
                                                <div class="listing"><pre class="prettyprint">NSLog(@"name = %@", [thePerson newName]);<br></pre></div>
                                                <p>in</p>
                                                <div class="listing"><pre class="prettyprint">NSString *theName = [thePerson newName]<br>NSLog(@"name = %@", theName);<br>[theName release];<br></pre></div>
                                                <p>um und verwendet hier keinen Autoreleasepool, sondern eine direkte Freigabe über <span class="clisting">release</span>.
                                                </p><br><div align="center"><a href="#top"><img src="common/jupiters.gif" border="0" alt="Galileo Computing - Zum Seitenanfang"></a></div><a id="dodtpc60bacc5-4355-4fde-868d-09e65d0c0464" name="dodtpc60bacc5-4355-4fde-868d-09e65d0c0464"></a><h3 class="t3"><span class="cfett">2.5.2</span><span class="cfett"> Weakie und die starken Zeiger</span><a href="#dodtpc7187bdd-6422-4c4f-92d2-c60983032cf5"><img src="common/down.gif" width="15" height="15" border="0" alt="Zur nächsten Überschrift"></a><a href="#dodtp27b47c98-db0e-459e-a79f-6da5cef1f022"><img src="common/top.gif" width="15" height="15" border="0" alt="Zur vorigen Überschrift"></a></h3>
                                                <p>Das sieht ja bis jetzt alles noch recht einfach aus. Bei Variablen ist es jedoch etwas
                                                   komplizierter. Wenn Sie eine Variable oder ein Attribut deklarieren, setzt der Compiler
                                                   es auf <span class="clisting">nil</span>. Außerdem verhält sich die Variable immer wie eine haltende Referenz, die am Ende
                                                   ihres Gültigkeitsbereiches (Blocks) wieder freigegeben wird. Die Deklaration
                                                </p>
                                                <div class="listing"><pre class="prettyprint">{<br>    NSString *theName;<br>    ...<br>}<br></pre></div>
                                                <p>wandelt der Compiler bei der Übersetzung in</p>
                                                <div class="listing"><pre class="prettyprint">{<br>   <span class="cfett"> __strong</span> NSString *theName<span class="cfett"> = nil</span>;<br>    ...<br>   <span class="cfett"> [theName release];</span><br>}<br></pre></div>
                                                <p>um. Bei Attributen erzeugt der Compiler die <span class="clisting">release</span>-Anweisung natürlich nicht im Block, sondern im <span class="clisting">dealloc</span> der Klasse.
                                                </p>
                                                <p>Der Speicherverwaltungstyp <span class="clisting">__strong</span> legt dabei fest, dass die Variable den referenzierten Wert hält. Die Initialisierung
                                                   mit <span class="clisting">nil</span> erhöht die Stabilität Ihres Codes, da Sie dadurch an die Objektreferenz eine Nachricht
                                                   senden können, ohne sie explizit vorher zu initialisieren. Die Zuweisung ist außerdem
                                                   für das korrekte Funktionieren von Zuweisungen notwendig. Denn aus ...
                                                </p>
                                                <div class="listing"><pre class="prettyprint">theName = theNewName;<br></pre></div>
                                                <p>... erzeugt der Compiler:</p>
                                                <div class="listing"><pre class="prettyprint"><span class="cfett">[theNewName retain];<br>NSString *theOldName = theName;</span><br>theName = theNewName;<span class="cfett"><br>[theOldName release];</span><br></pre></div>
                                                <p>Ohne die Initialisierung auf <span class="clisting">nil</span> enthielte die letzte Zeile in der Regel einen Dangling Pointer.
                                                </p>
                                                <p>Das Gegenstück zu <span class="clisting">__strong</span> ist <span class="clisting">__weak</span>. Es legt fest, dass die Variable das Objekt nicht hält. Sie müssen diesen Typ natürlich
                                                   immer explizit angeben. Trotzdem erweitert der Compiler auch hierbei Ihren Programmcode,
                                                   da das Laufzeitsystem <span class="cbegriff">schwache Referenzen</span><a class="indexterm" id="dodtp7cfe2f53-12c4-4fb3-a339-0856bd512014"></a> automatisch auf <span class="clisting">nil</span> setzt, wenn das Programm die Methode <span class="clisting">dealloc</span> des Objekts aufruft. Dazu verwendet ARC spezielle Funktionen aus der Laufzeitbibliothek.
                                                   Aus
                                                </p>
                                                <div class="listing"><pre class="prettyprint">__weak NSString *theName = name;<br>NSUInteger theLength = [theName length];<br></pre></div>
                                                <p>erzeugt der Compiler:</p>
                                                <div class="listing"><pre class="prettyprint">__weak NSString *theName =<span class="cfett"> nil</span>;<span class="cfett"><br>objc_storeWeak(&amp;theName, name);</span><br>NSUInteger theLength = [<span class="cfett">objc_readWeak(&amp;theName)</span> length];<span class="cfett"><br>objc_storeWeak(&amp;theName, nil);</span><br></pre></div>
                                                <p>Analog zu den Modifizierern <span class="clisting">__strong</span> und <span class="clisting">__weak</span> gibt es die entsprechenden Parameter <span class="clisting">strong</span> und <span class="clisting">weak</span> für Propertys. Dabei ist <span class="clisting">strong</span> nur ein Synonym für <span class="clisting">retain</span>. Der ARC-Compiler erzeugt automatisch bei Propertys mit den Typen <span class="clisting">copy</span>, <span class="clisting">retain</span> und <span class="clisting">strong</span> die entsprechende Freigabeanweisung in der <span class="clisting">dealloc-Methode</span> der Klasse. Sie brauchen diese Methode also nur noch in Ausnahmefällen selber zu
                                                   implementieren.
                                                </p>
                                                <table width="100%" border="0" cellspacing="1" cellpadding="3">
                                                   <tbody>
                                                      
                                                      
                                                      <tr>
                                                         
                                                         
                                                         <td class="tabellenkopf"><span class="cfett">
                                                               
                                                               
                                                               
                                                               Propertys und das Automatic Reference Counting
                                                               
                                                               </span></td>
                                                         
                                                         
                                                      </tr>
                                                      
                                                      
                                                      <tr>
                                                         
                                                         
                                                         <td class="tabellentext">
                                                            <p>Der neue Speicherverwaltungstyp <span class="clisting">weak</span> verhindert die Entstehung von Dangling Pointern. Wenn Sie ihn anstatt <span class="clisting">assign</span> verwenden, setzt die Laufzeitumgebung den Property-Wert automatisch auf <span class="clisting">nil</span>, wenn Ihr Programm das referenzierte Objekt freigibt. Sie können natürlich <span class="clisting">retain</span> und <span class="clisting">copy</span> wie gewohnt weiterverwenden. Allerdings ist die Verwendung von <span class="clisting">strong</span> anstelle von <span class="clisting">retain</span> bezüglich <span class="clisting">weak</span> stringenter.
                                                               <br><br>
                                                               Aber auch hier müssen Sie zwischen der Property-Deklaration und der Implementierung
                                                               der Accessoren unterscheiden. Wenn sie nicht über <span class="clisting">@synthesize</span> erfolgt, müssen Sie die Accessoren händisch implementieren.
                                                               
                                                               
                                                            </p>
                                                         </td>
                                                         
                                                         
                                                      </tr>
                                                      
                                                      
                                                      
                                                      
                                                   </tbody>
                                                </table>
                                                <p>Der ARC-Compiler sorgt natürlich auch dafür, dass ein Objekt am Ende seines Lebens
                                                   seine Verweise auf andere Objekte freigibt. Er erzeugt also automatisch eine <span class="clisting">dealloc</span>-Methode. Sie dürfen aber auch weiterhin <span class="clisting">dealloc</span> überschreiben und für die Freigabe anderer Ressourcenarten (z. B. Filehandles, Registrierungen
                                                   als Beobachter, Sockets und Streams) verwenden. Der ARC-Compiler fügt am Ende einer
                                                   <span class="clisting">dealloc</span>-Methode automatisch den Aufruf der Supermethode ein, und Sie brauchen das nicht mehr
                                                   zu tun. In einer ARC-Umgebung ist überall der explizite Aufruf von <span class="clisting">dealloc</span> verboten.
                                                </p>
                                                <p>Es gibt noch zwei weitere mögliche Speicherverwaltungstypen. Durch den Modifizierer
                                                   <span class="clisting">__unsafe_unretained</span> können Sie erreichen, dass sich eine Variable wie ein gewöhnlicher Zeiger in C verhält.
                                                   Der Compiler verändert den Code für diese Variablen also nicht.
                                                </p>
                                                <p>Der Modifizierer <span class="clisting">__autoreleasing</span> veranlasst den Compiler, ein <span class="clisting">retain</span> und ein <span class="clisting">autorelease</span> bei der Zuweisung an den Wert zu senden. Er ist der Standardtyp für Ausgabeparameter
                                                   &#8211; also Zeiger auf Objektreferenzen. Ein typisches Beispiel dafür sind Fehlerobjekte,
                                                   die viele Cocoa-Methoden zurückgeben:
                                                </p>
                                                <div class="listing"><pre class="prettyprint">- (void)readWithError:(NSError **)outError {<br>    ...<br>    if(!success) {<br>        *outError = ...;<br>    }<br>}<br></pre></div>
                                                <p>Das übersetzt der Compiler in:</p>
                                                <div class="listing"><pre class="prettyprint">- (void)readWithError:(<span class="cfett">__autoreleasing</span> NSError **)outError {<br>    ...<br>    if(!success) {<br>        *outError =<span class="cfett"> [[</span>...<span class="cfett"> retain] autorelease]</span>;<br>    }<br>}<br></pre></div><br><div align="center"><a href="#top"><img src="common/jupiters.gif" border="0" alt="Galileo Computing - Zum Seitenanfang"></a></div><a id="dodtpc7187bdd-6422-4c4f-92d2-c60983032cf5" name="dodtpc7187bdd-6422-4c4f-92d2-c60983032cf5"></a><h3 class="t3"><span class="cfett">2.5.3</span><span class="cfett"> Autoreleasepools</span><a href="#dodtpc3f7f51c-8baf-4d66-bb0e-867db1b7e3d9"><img src="common/down.gif" width="15" height="15" border="0" alt="Zur nächsten Überschrift"></a><a href="#dodtpc60bacc5-4355-4fde-868d-09e65d0c0464"><img src="common/top.gif" width="15" height="15" border="0" alt="Zur vorigen Überschrift"></a></h3>
                                                <p>Wie eingangs erwähnt, dürfen Sie bei der Verwendung des Automatic Reference Countings
                                                   keine Autoreleasepools über die Klasse <span class="clisting">NSAutoreleasePool</span> mehr anlegen. In der Regel müssen Sie das in Objective-C damit sowieso selten machen.
                                                   Die Verwaltung von Autoreleasepools geschieht in der ARC-Umgebung durch <span class="clisting">@autorelease { ... }</span>, das deren Handhabung vereinfacht. Es gibt drei wichtige Situationen, in denen Sie
                                                   einen Pool verwalten müssen.
                                                </p><a id="dodtp7590a965-b532-4273-867f-90cc95584786" name="dodtp7590a965-b532-4273-867f-90cc95584786"></a><h4 class="t4"><span class="cfett"></span><span class="cfett"> Die main-Funktion</span></h4>
                                                <p>Die <span class="clisting">main</span>-Funkion legt Xcode bei der Erzeugung eines neuen Projekts automatisch für Sie an.
                                                   Unter Umständen müssen Sie das aber in Ihren alten Programmen abändern. Die Funktion
                                                   sieht mit einem ARC-Compiler so aus:
                                                </p>
                                                <div class="listing"><pre class="prettyprint">int main(int argc, char *argv[]) {<br>    @autoreleasepool {<br>        return UIApplicationMain(argc, argv, nil, nil);<br>    }<br>}<br></pre></div>
                                                <p class="plistingunter"><strong>Listing 2.60   </strong>»main«-Funktion mit »@autoreleasepool«
                                                </p><a id="dodtp2f117098-28f2-4b41-b1e0-58e1c32c9921" name="dodtp2f117098-28f2-4b41-b1e0-58e1c32c9921"></a><h4 class="t4"><span class="cfett"></span><span class="cfett"> Threads</span></h4>
                                                <p>Ein Thread ist ein eigenständiger Ausführungsstrang in einem Programm. Über Threads
                                                   können Sie erreichen, dass Ihr Programm mehrere Aufgaben gleichzeitig erledigt. Safari
                                                   unter OS X kann beispielsweise eine Datei herunterladen, während Sie mit dem Browser
                                                   durch das Internet surfen.
                                                </p>
                                                <p>Jeder Thread braucht einen eigenen Autoreleasepool. Das galt auch schon vor ARC. Allerdings
                                                   gibt es in Cocoa elegantere Möglichkeiten als Threads, um nebenläufige Programme zu
                                                   schreiben. <span class="cbegriff">Multithreading</span><a class="indexterm" id="dodtpcebe65a1-0adc-4930-b8c0-8f9bcb400e10"></a> macht in vielen Fällen auch erst auf Mehrprozessorsystemen Sinn. Falls Sie aber dennoch
                                                   einen eigenen Thread starten möchten, ist hier ein Gerüst dafür:
                                                </p>
                                                <div class="listing"><pre class="prettyprint">- (void)startParsingWithFile:(NSString *)inPath {<br>    [self perfomSelectorInBackground:@selector(parseWithFile:)<br>                          withObject:inPath];<br>}<br>- (void)parseWithFile:(NSString *)inPath {<br>    @autoreleasepool {<br>        ...<br>    }<br>}<br></pre></div>
                                                <p class="plistingunter"><strong>Listing 2.61   </strong>Starten eines Threads
                                                </p><a id="dodtp0bf9c74d-8537-44de-a15e-10005861a31d" name="dodtp0bf9c74d-8537-44de-a15e-10005861a31d"></a><h4 class="t4"><span class="cfett"></span><span class="cfett"> Vermeidung von Speicherüberläufen</span></h4>
                                                <p>Die exzessive Nutzung des Autoreleasepools kann zu einem Speicherüberlauf führen,
                                                   obwohl Sie sich strikt an die Speicherverwaltungsregeln gehalten haben. Das liegt
                                                   daran, dass der Autoreleasepool alle Objekte hält, bis Sie oder das Betriebssystem
                                                   ihn leeren. Sie können aber Autoreleasepools ineinander verschachteln. Dann sammelt
                                                   immer der innerste Pool die Objekte auf, denen Sie ein <span class="clisting">autorelease</span> senden. Dadurch können Sie ein zu starkes Anwachsen des Berges der nicht mehr verwendeten
                                                   Objekte verhindern. Da dieses Problem häufig bei großen Schleifen auftritt, reicht
                                                   es da häufig aus, einen Autoreleasepool innerhalb der Schleife zu platzieren:
                                                </p>
                                                <div class="listing"><pre class="prettyprint">- (void)parseFiles:(NSArray *)inFiles {<br>    for(NSString *theFile in inFiles) {<br>        @autoreleasepool {<br>        [self parseFile:theFile];<br>        }<br>    }<br>}<br></pre></div>
                                                <p class="plistingunter"><strong>Listing 2.62   </strong>Geschachtelter Autoreleasepool
                                                </p><br><div align="center"><a href="#top"><img src="common/jupiters.gif" border="0" alt="Galileo Computing - Zum Seitenanfang"></a></div><a id="dodtpc3f7f51c-8baf-4d66-bb0e-867db1b7e3d9" name="dodtpc3f7f51c-8baf-4d66-bb0e-867db1b7e3d9"></a><h3 class="t3"><span class="cfett">2.5.4</span><span class="cfett"> Einzelgänger</span><a href="#dodtpf9322b94-745f-40e9-ae55-6d7fb708ef8f"><img src="common/down.gif" width="15" height="15" border="0" alt="Zur nächsten Überschrift"></a><a href="#dodtp0bf9c74d-8537-44de-a15e-10005861a31d"><img src="common/top.gif" width="15" height="15" border="0" alt="Zur vorigen Überschrift"></a></h3>
                                                <p>Die Richtlinien für ARC-konformen Programmcode untersagen Ihnen nicht nur die Verwendung
                                                   der Methoden <span class="clisting">retain</span>, <span class="clisting">release</span> und <span class="clisting">autorelease</span>, sondern auch das Überschreiben dieser Methoden. Das müssen Sie in der Regel sowieso
                                                   selten machen. Für die Implementierung des <span class="cbegriff">Singleton-Entwurfsmusters</span><a class="indexterm" id="dodtpea7826b2-185c-48bb-a39a-c0f874e402e7"></a> beim manuellen Referenzenzählen überschreibt man in der Regel diese Methoden, um
                                                   sicherzustellen, dass es nur ein Objekt der Klasse gibt.
                                                </p>
                                                
                                                
                                                <table width="100%" border="0" cellspacing="1" cellpadding="3">
                                                   <tbody>
                                                      
                                                      
                                                      <tr>
                                                         
                                                         
                                                         <td class="tabellenkopf"><span class="cfett">
                                                               
                                                               
                                                               
                                                               Pattern oder Antipattern?
                                                               
                                                               </span></td>
                                                         
                                                         
                                                      </tr>
                                                      
                                                      
                                                      <tr>
                                                         
                                                         
                                                         <td class="tabellentext">
                                                            <p>Singletons gehören zu den 23 Entwurfsmustern, die Gamma, Helm, Johnson und Vlissides
                                                               &#8211; die <span class="cbegriff">Gang of Four</span> &#8211; in ihrem Buch über Entwurfsmuster<span class="footnote"><a id="dodtp7860e361-b1fc-426e-867e-405e983a96c8">[13](E. Gamma, R. Helm, R. Johnson, J. Vlissides: Entwurfsmuster. Elemente wiederverwendbarer objektorientierter Software, Addison-Wesley, München 2004)</a></span> beschrieben haben. Allerdings betrachtet inzwischen auch eine große Anzahl von Entwicklern
                                                               dieses Muster als <span class="cbegriff">Antipattern</span>. Sogar Erich Gamma sieht das Muster inzwischen anscheinend kritisch:
                                                            <br><br>   
                                                            <span class="ckursiv">»When discussing which patterns to drop, we found that we still love them all. (Not
                                                                  really&#8212;I'm in favor of dropping Singleton. Its use is almost always a design smell.)«</span><span class="footnote"><a id="dodtp79261010-7614-4d57-a693-96beb073fea8">[14](http://www.informit.com/articles/article.aspx?p=1404056)</a></span>
                                                            <br><br>   
                                                               Wie dem auch sei, setzen Sie dieses Muster allenfalls in homöopathischen Dosen ein.
                                                               Außerdem sollten Sie bei Ihren Singletons auch immer an Einschränkungen durch das
                                                               MVC-Architekturmuster denken. Falls es zur Controller-Schicht gehört, hat es in der
                                                               View- oder gar Modellschicht nichts verloren. Das gilt übrigens auch für <span class="clisting">UIApplication</span> und das App-Delegate.
                                                               
                                                               </span></p></td>
                                                         
                                                         
                                                      </tr>
                                                      
                                                      
                                                      
                                                      
                                                   </tbody>
                                                </table>
                                               
                                                <p>Die einfachste Möglichkeit für die Implementierung eines Singletons ist eine Klassenmethode
                                                   und eine statische Variable. Die statische Variable verweist dabei auf das Objekt
                                                   und hält es im Speicher.
                                                </p>
                                                <div class="listing"><pre class="prettyprint">@implementation MySingleton<br>+ (id)sharedInstance {<br>    static id sharedInstance;<br>    if (sharedInstance == nil) {<br>       sharedInstance = [[MySingleton alloc] init];<br>    }<br>    return sharedInstance;<br>}<br>...<br>@end<br></pre></div>
                                                <p class="plistingunter"><strong>Listing 2.63   </strong>Einfaches Singleton, über eine Klassenmethode implementiert
                                                </p>
                                                <p>Ein Singleton sollte immer sicherstellen, dass es nur ein Objekt seiner Klasse gibt.
                                                   Sie können das erreichen, indem Sie die Methode <span class="clisting">allocWithZone:</span> überschreiben.
                                                </p>
                                                <div class="listing"><pre class="prettyprint">+ (id)allocWithZone:(NSZone *)inZone {<br>    static id sharedInstance;<br>    if(sharedInstance == nil) {<br>        sharedInstance = [super allocWithZone:inZone];<br>    }<br>    return sharedInstance;<br>}<br>+ (id)sharedInstance {<br>    return [[[self class] alloc] init];<br>}<br></pre></div>
                                                <p class="plistingunter"><strong>Listing 2.64   </strong>Singleton-Erzeugung in »allocWithZone:«
                                                </p>
                                                <p>Bei dieser Lösung können Sie auf das Singleton wie auf jedes andere Objekt auch zugreifen.
                                                   Sie legen es einfach durch eine <span class="clisting">alloc</span>-<span class="clisting">init</span>-Kette an. Sie müssen also nicht unbedingt die Methode <span class="clisting">sharedInstance</span> aus Listing 2.64 dazu verwenden. Sie können diese Implementationsvariante dazu verwenden,
                                                   um die Singleton-Eigenschaft einer Klasse zu verstecken.
                                                </p><br><div align="center"><a href="#top"><img src="common/jupiters.gif" border="0" alt="Galileo Computing - Zum Seitenanfang"></a></div><a id="dodtpf9322b94-745f-40e9-ae55-6d7fb708ef8f" name="dodtpf9322b94-745f-40e9-ae55-6d7fb708ef8f"></a><h3 class="t3"><span class="cfett">2.5.5</span><span class="cfett"> Migration bestehender Projekte</span><a href="#dodtpc3f7f51c-8baf-4d66-bb0e-867db1b7e3d9"><img src="common/top.gif" width="15" height="15" border="0" alt="Zur vorigen Überschrift"></a></h3>
                                                <p>Das Verbot der drei Speicherverwaltungsmethoden <span class="clisting">retain</span>, <span class="clisting">release</span> und <span class="clisting">autorelease</span> führt natürlich zu Programmcode, der ohne ARC eine fehlerhafte Speicherverwaltung
                                                   hat. Da der Compiler nach wie vor auch die manuelle Speicherverwaltung unterstützt,
                                                   müssen Sie ihm mitteilen, um welche Art von Code es sich handelt. Dazu gibt es das
                                                   Kommandozeilenflag <span class="clisting">&#8211;fobjc-arc</span> beziehungsweise die Einstellung <span class="cscreenelement">Objective-C Automatic Reference Counting</span> in den Build Settings des Programm-Targets (siehe Abbildung 2.39):
                                                </p><a href="bilder/02_039.png" rel="lightbox" title="Automatisches Referenzenzählen einschalten"><img class="bild" border="1" src="bilderklein/klein02_039.png" alt="Abbildung"></a><p class="pbildunter"><strong>Abbildung 2.39   </strong>Automatisches Referenzenzählen einschalten
                                                </p>
                                                <p>Um Ihren bestehenden Code für das automatische Referenzenzählen umzuwandeln, können
                                                   Sie in Xcode 4.2 den Menüpunkt <span class="cscreenelement">Edit</span> · <span class="cscreenelement">Refactor</span> · <span class="cscreenelement">Convert to Objective-C ARC...</span> aufrufen. Stellen Sie aber vorher das Schema auf den iPhone Simulator um (siehe Abbildung
                                                   2.40). Dadurch können Sie einen Fehler bei der Migration verhindern.
                                                </p><a href="bilder/02_040.png" rel="lightbox" title="Umstellen des Schemas auf den iPhone Simulator"><img class="bild" border="1" src="bilderklein/klein02_040.png" alt="Abbildung"></a><p class="pbildunter"><strong>Abbildung 2.40   </strong>Umstellen des Schemas auf den iPhone Simulator
                                                </p>
                                                <p>Nach dem Aufruf des Menüpunkts fragt Xcode Sie, welches Target Ihres Projekts Sie
                                                   konvertieren möchten (siehe Abbildung 2.41). Die bislang erstellten Projekte enthalten
                                                   jeweils nur ein Target, und es macht bei Projekten mit mehreren Targets nur in seltenen
                                                   Fällen Sinn, gemischten Code zu haben. Die Auswahl fällt also in der Regel leicht.
                                                </p><a href="bilder/02_041.png" rel="lightbox" title="Auswahl des Konvertierungstargets"><img class="bild" border="1" src="bilderklein/klein02_041.png" alt="Abbildung"></a><p class="pbildunter"><strong>Abbildung 2.41   </strong>Auswahl des Konvertierungstargets
                                                </p>
                                                <p>Wenn Sie <span class="cscreenelement">Precheck</span> anklicken, startet Xcode eine Prüfung für die Konvertierung. Da es zurzeit noch keine
                                                   Autoreleasepools migrieren kann, meldet es drei Fehler in der <span class="clisting">main</span>-Funktion (siehe Abbildung 2.42). Sie können diesen Fehler beheben, indem Sie ihn
                                                   durch Listing 2.60 ersetzen. Wenn Sie alle gemeldeten Fehler behoben haben, starten
                                                   Sie die Konvertierung einfach erneut.
                                                </p><a href="bilder/02_042.png" rel="lightbox" title="Konvertierungsfehler in der »main«-Funktion"><img class="bild" border="1" src="bilderklein/klein02_042.png" alt="Abbildung"></a><p class="pbildunter"><strong>Abbildung 2.42   </strong>Konvertierungsfehler in der »main«-Funktion
                                                </p>
                                                <p>Wenn Xcode dabei keine Fehler mehr findet, zeigt es einen Dialog an, der Ihnen die
                                                   nachfolgenden Schritte erläutert (siehe Abbildung 2.43). Klicken Sie einfach den Button
                                                   <span class="cscreenelement">Next,</span> um fortzufahren.
                                                </p><a href="bilder/02_043.png" rel="lightbox" title="Start der Konvertierung"><img class="bild" border="1" src="bilderklein/klein02_043.png" alt="Abbildung"></a><p class="pbildunter"><strong>Abbildung 2.43   </strong>Start der Konvertierung
                                                </p>
                                                <p>Anschließend zeigt es einen Fortschrittsdialog für die Konvertierung an. Falls Sie
                                                   für das Projekt noch keine Snapshots eingeschaltet haben, fragt Xcode Sie danach.
                                                </p>
                                                <table width="100%" border="0" cellspacing="1" cellpadding="3">
                                                   <tbody>
                                                      
                                                      
                                                      <tr>
                                                         
                                                         
                                                         <td class="tabellenkopf"><span class="cfett">
                                                               
                                                               
                                                               
                                                               Bitte recht freundlich
                                                               
                                                               </span></td>
                                                         
                                                         
                                                      </tr>
                                                      
                                                      
                                                      <tr>
                                                         
                                                         
                                                         <td class="tabellentext">
                                                            <p>Ein <span class="cbegriff">Snapshot</span><a class="indexterm" id="dodtped6e4ada-cdd7-46c9-83f3-17878576fca4"></a> ist eine Momentaufnahme Ihres Projekts. Er enthält alle Dateien und Einstellungen
                                                               des Projekts von dem Zeitpunkt, an dem Xcode ihn erstellt hat. Sie können damit also
                                                               Zwischenstände Ihrer Projekte speichern. Das ist besonders praktisch bei größeren
                                                               Änderungen an Ihrem Programmcode, besonders wenn Xcode sie automatisiert durchführt.
                                                               <br><br>
                                                               Über den Menüpunkt <span class="cscreenelement">File</span> · <span class="cscreenelement">Create Snapshot...</span> können Sie jederzeit eigene Zwischenstände speichern. Um einen Snapshot wiederherzustellen,
                                                               verwenden Sie einfach den Menüpunkt <span class="cscreenelement">File</span> · <span class="cscreenelement">Restore Snapshot...</span>
                                                               
                                                               
                                                            </p>
                                                         </td>
                                                         
                                                         
                                                      </tr>
                                                      
                                                      
                                                      
                                                      
                                                   </tbody>
                                                </table>
                                                <p>Da Xcode bei größeren Projekten Ihren Code sehr stark verändert, sollten Sie auf jeden
                                                   Fall Snapshots zulassen (siehe Abbildung 2.44).
                                                </p><a href="bilder/02_044.png" rel="lightbox" title="Einschalten der Snapshots"><img class="bild" border="1" src="bilderklein/klein02_044.png" alt="Abbildung"></a><p class="pbildunter"><strong>Abbildung 2.44   </strong>Einschalten der Snapshots
                                                </p>
                                                <p>Anschließend startet Xcode die Konvertierung Ihres Projekts. Es zeigt dabei den Fortschritt
                                                   in einem Dialog an. Nach der Konvertierung zeigt Xcode ein Fenster mit den Änderungen
                                                   an den einzelnen Dateien an (siehe Abbildung 2.45). Sie können in der linken Spalte
                                                   die Datei auswählen, deren Änderungen Sie ansehen möchten. Daneben sehen Sie den alten
                                                   Quellcode der ausgewählten Datei und auf der rechten Seite den geänderten Code. Die
                                                   Änderungen werden dabei hellblau hinterlegt.
                                                </p><a href="bilder/02_045.png" rel="lightbox" title="Anzeige der Änderungen"><img class="bild" border="1" src="bilderklein/klein02_045.png" alt="Abbildung"></a><p class="pbildunter"><strong>Abbildung 2.45   </strong>Anzeige der Änderungen
                                                </p>
                                                <p>Wenn Sie schließlich auf den Button <span class="cscreenelement">Accept Changes</span> klicken, übernimmt Xcode alle Änderungen in Ihren Programmcode und passt auch die
                                                   Compiler-Einstellungen in den Build-Settings an. Nach diesem letzten Schritt haben
                                                   Sie die Migration auf automatisches Referenzenzählen abgeschlossen.
                                                </p>
                                                <table width="100%" border="0" cellspacing="1" cellpadding="3">
                                                   <tbody>
                                                      
                                                      
                                                      <tr>
                                                         
                                                         
                                                         <td class="tabellenkopf"><span class="cfett">
                                                               
                                                               
                                                               
                                                               Ja, ich will
                                                               
                                                               </span></td>
                                                         
                                                         
                                                      </tr>
                                                      
                                                      
                                                      <tr>
                                                         
                                                         
                                                         <td class="tabellentext">
                                                            <p>Auch wenn das automatische Referenzenzählen der Standard für alle zukünftigen Entwicklungen
                                                               und Projekte ist, müssen Sie Ihre Projekte nicht unbedingt konvertieren. Sie können
                                                               auch Code mit und ohne ARC innerhalb einer App verwenden, wenn die Programmteile mit
                                                               jeweils den richtigen ARC-Einstellungen übersetzt wurden. Das ist möglich, weil ja
                                                               ARC auf dem manuellen Referenzenzählen basiert. Falls Ihnen Xcode bei der Konvertierung
                                                               zu viele Fehler meldet, können Sie die Umstellung also ruhig noch etwas auf die lange
                                                               Bank schieben.
                                                               
                                                               
                                                            </p>
                                                         </td>
                                                         
                                                         
                                                      </tr>
                                                      
                                                      
                                                   </tbody>
                                                </table><br><hr><a name="kommentar"></a><h3>Ihr Kommentar</h3>
                                                <p>Wie hat Ihnen das &lt;openbook&gt; gefallen? Wir freuen uns immer über Ihre freundlichen
                                                   und kritischen Rückmeldungen.
                                                </p>
                                                <form action="http://www.galileo-press.de/feedback/openbook" method="post" style="text-align: center; margin-top: 10px;"><input type="hidden" name="openbookurl" value="http://www.galileocomputing.de/katalog/openbook/apps_02_005.html"><input type="hidden" name="buchtitel" value="Apps entwickeln für iPhone und iPad"><input type="hidden" name="Kapitel" value="2 Einstieg in die Praxis"><table border="0">
                                                      <tbody>
                                                         <tr>
                                                            <td><label for="name">Name</label><br></td>
                                                            <td><input type="text" name="name" id="name" size="40"><br></td>
                                                         </tr>
                                                         <tr>
                                                            <td><label for="email">E-Mail</label><br></td>
                                                            <td><input type="text" name="email" id="email" size="40"><br></td>
                                                         </tr>
                                                         <tr>
                                                            <td valign="top"><label for="comment">Ihr Kommentar</label><br></td>
                                                            <td><textarea name="comment" id="comment" rows="10" cols="40"></textarea><br></td>
                                                         </tr>
                                                         <tr>
                                                            <td></td>
                                                            <td><input type="submit" value="Kommentar absenden"></td>
                                                         </tr>
                                                      </tbody>
                                                   </table>
                                                </form>
                                             </div>
                                          </td>
                                       </tr>
                                    </tbody>
                                 </table>
                              </td>
                           </tr>
                           <tr>
                              <td width="100%" class="start" colspan="1" height="22" align="center">
                                 <table width="100%" border="0" cellspacing="0" cellpadding="0">
                                    <tbody>
                                       <tr>
                                          <td width="25%"><a href="apps_02_004.html" class="navnav"> &lt;&lt; zurück</a></td>
                                          <td width="49%">
                                             <div align="center"><a class="navnav" href="#">&lt;top&gt;</a></div>
                                          </td>
                                          <td align="right" width="25%">
                                             <div align="right"><a href="apps_03_001.html" class="navnav">vor &gt;&gt;
                                                   </a></div>
                                          </td>
                                       </tr>
                                    </tbody>
                                 </table>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
               </td>
               <td width="10" valign="top"></td>
               <td width="160" valign="top"><table border="0" cellpadding="0" cellspacing="0" width="160">
                  <tr>
                  <td>
                  <table border="0" cellpadding="0" cellspacing="0" width="100%">
                  <tr>
                  <td class="start" height="20" colspan="2">
                  &nbsp;<a href="http://www.galileocomputing.de/katalog/buecher/?GPP=opAppiP" class="autor">
                  <strong>Zum Katalog</strong></a>
                  
                  </td>
                  </tr>
                  <tr>
                  <td valign="top" class="tbl4" width="2">
                  <img src="common/leer.gif" border="0" height="1" width="1"></td>
                  <td valign="top">
                  <table cellspacing="3">
                  <tr>
                  <td><a href="http://www.galileo-press.de/3521?GPP=opAppiP">
                  <img src="common/2734.png" width="126" height="100" border="0" align="left"
                  hspace="4" vspace="8" alt="Zum Katalog: Neuauflage: Apps programmieren für iPhone und iPad">
                  <br><br><br><br><br><br><strong>Neuauflage: Apps programmieren für iPhone und iPad</strong><br><img
                  src="common/pfeil_rechts5.gif" border="0" alt="">Jetzt bestellen</a><br /><br />
                  </td>
                  </tr>
                  </table>
                  </td>
                  
                  </tr>
                  </table>
                  </td>
                  </tr>
                  <tr>
                  <td><img src="common/leer.gif" height="2" width="1" border="0" /></img></td>
                  </tr>
                  <tr>
                  <td>
                  <table border="0" cellpadding="0" cellspacing="0" width="100%">
                  <tr>
                  <td class="start" height="20" colspan="2"><span class="autor"><strong>&nbsp;Ihre Meinung?</strong></a></td>
                  </tr>
                  <tr>
                  <td valign="top" class="tbl4" width="2"><img src="common/leer.gif" border="0" height="1"
                  width="1"></td>
                  <td valign="top">
                  
                  <table cellspacing="3">
                  <tr>
                  <td>Wie hat Ihnen das &lt;openbook&gt; gefallen?<br><a href="#kommentar"><img src="common/pfeil_rechts5.gif"
                  border="0" alt="">Ihre Meinung</a>
                  <br><br></td>
                  </tr>
                  </table>
                  </td>
                  </tr>
                  </table>
                  </td>
                  </tr>
                  <tr>
                  
                  <td><img src="common/leer.gif" height="2" width="1" border="0" /></img></td>
                  </tr>
                  <tr>
                  <td>
                  </td>
                  </tr>
                  
                  <tr>
                  <td><img src="common/leer.gif" height="2" width="1" border="0" /></img></td>
                  </tr>
                  <tr>
                  <td>
                  <table border="0" cellpadding="0" cellspacing="0" width="100%">
                  <tr>
                  <td class="start" height="20" colspan="2">&nbsp;<a href="http://www.galileocomputing.de/katalog/buecher/?GPP=opAppiP"
                  class="autor"><strong>Buchempfehlungen</strong></a></td>
                  </tr>
                  <tr>
                  <td valign="top" class="tbl4" width="2"><img src="common/leer.gif" border="0" height="1"
                  width="1"></td><td valign="top">
                  <a href="http://www.galileocomputing.de/2448?GPP=opAppiP">
                  <img src="common/1658.png" width="114" height="100" border="0" align="left" hspace="4"
                  vspace="8" alt="Objective-C 2.0 & Cocoa"><br><br><br><br><br><br>&nbsp;Objective-C
                  2.0<br>&nbsp;Cocoa</a><br><br></td>
                  </tr>
                  
                  <tr>
                  <td valign="top" class="tbl4" width="2"><img src="common/leer.gif" border="0" height="1"
                  width="1"></td><td valign="top">
                  <a href="http://www.galileocomputing.de/2663?GPP=opAppiP">
                  <img src="common/1791.png" width="126" height="100" border="0" align="left" hspace="4"
                  vspace="8" alt="Zum Katalog: Mac OS X Lion"><br><br><br><br><br><br><br>&nbsp;Mac
                  OS X Lion</a><br><br></td>
                  </tr>
                  <tr>
                  <td valign="top" class="tbl4" width="2"><img src="common/leer.gif" border="0" height="1"
                  width="1"></td><td valign="top">
                  <a href="http://www.galileocomputing.de/2664?GPP=opAppiP">
                  <img src="common/1792.png" width="122" height="100" border="0" align="left" hspace="4"
                  vspace="8" alt="Zum Katalog: Mac OS X und UNIX"><br><br><br><br><br><br><br>&nbsp;Mac
                  OS X<br>&nbsp;und UNIX</a><br><br></td>
                  </tr>
                  <tr>
                  <td valign="top" class="tbl4" width="2"><img src="common/leer.gif" border="0" height="1"
                  width="1"></td><td valign="top">
                  <a href="http://www.galileocomputing.de/2516?GPP=opAppiP">
                  <img src="common/1697.png" width="122" height="100" border="0" align="left" hspace="4"
                  vspace="8" alt="Zum Katalog: Android 3"><br><br><br><br><br><br><br>&nbsp;Android
                  3</a><br><br></td>
                  </tr>
                  <tr>
                  <td valign="top" class="tbl4" width="2"><img src="common/leer.gif" border="0" height="1"
                  width="1"></td><td valign="top">
                  <a href="http://www.galileocomputing.de/2672?GPP=opAppiP">
                  <img src="common/1802.png" width="116" height="100" border="0" align="left" hspace="4"
                  vspace="8" alt="Zum Katalog: Java ist auch eine Insel"><br><br><br><br><br><br><br>&nbsp;Java
                  ist auch<br>&nbsp;eine Insel</a><br><br></td>
                  </tr>
                  <tr>
                  <td valign="top" class="tbl4" width="2"><img src="common/leer.gif" border="0" height="1"
                  width="1"></td><td valign="top">
                  <a href="http://www.galileocomputing.de/2556?GPP=opAppiP">
                  <img src="common/1725.png" width="124" height="100" border="0" align="left" hspace="4"
                  vspace="8" alt="Zum Katalog: CSS"><br><br><br><br><br><br><br>&nbsp;CSS</a><br><br></td>
                  </tr>
                  <tr>
                  <td valign="top" class="tbl4" width="2"><img src="common/leer.gif" border="0" height="1"
                  width="1"></td><td valign="top">
                  <a href="http://www.galileocomputing.de/2930?GPP=opAppiP">
                  <img src="common/1810.png" width="124" height="100" border="0" align="left" hspace="4"
                  vspace="8" alt="Zum Katalog: jQuery"><br><br><br><br><br><br><br>&nbsp;jQuery</a><br><br></td>
                  </tr>
                  </table></td>
                  </tr>
                  <tr>
                  <td><img src="common/leer.gif" height="2" width="1" border="0" /></img></td>
                  </tr>
                  
                  <tr>
                  <td>
                  <table border="0" cellpadding="0" cellspacing="0" width="100%">
                  <tr>
                  <td class="start" height="20" colspan="2"><span class="autor"><strong>&nbsp;Shopping</strong></span></td>
                  </tr>
                  <tr>
                  <td valign="top" class="tbl4" width="2"><img src="common/leer.gif" border="0" height="1"
                  width="1"></td>
                  <td valign="top">
                  <table cellspacing="3">
                  <tr>
                  <td><b>Versandkostenfrei</b> bestellen in Deutschland und &Ouml;sterreich<br><a href="http://www.galileocomputing.de/hilfe/Shop/?GPP=opAppiP"><img
                  src="common/pfeil_rechts5.gif" border="0" alt="Info">Info</a><br><br></td>
                  
                  </tr>
                  </table>
                  </td>
                  </tr>
                  </table>
                  </td>
                  </tr>
                  </table>
                  </td>
                  </tr>
                  </table>
                  <br><br><hr width="70%" align="center">
                  <div align="center">
                  <p class="standard"><strong>Copyright © Galileo Press 2011</strong><br>
                  Für Ihren privaten Gebrauch dürfen Sie die Online-Version natürlich ausdrucken.
                  Ansonsten unterliegt das &lt;openbook&gt; denselben Bestimmungen, wie die
                  gebundene Ausgabe: Das Werk einschließlich aller seiner Teile ist urheberrechtlich
                  geschützt. Alle Rechte vorbehalten einschließlich der Vervielfältigung, Übersetzung,
                  Mikroverfilmung sowie Einspeicherung und Verarbeitung in elektronischen Systemen.</p><br><a
                  href="http://www.galileocomputing.de/?GPP=opAppiP">[Galileo Computing]</a><br><br>
                  Galileo Press, Rheinwerkallee 4, 53227 Bonn, Tel.: 0228.42150.0, Fax 0228.42150.77,
                  <a href="mailto:info@galileo-press.de">info@galileo-press.de</a></div><br><br>
               </td>
            </tr>
         </tbody>
      </table>
   </body>
</html>